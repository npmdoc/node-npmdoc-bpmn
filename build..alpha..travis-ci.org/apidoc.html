<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/e2ebridge/bpmn#readme"

    >bpmn (v0.2.2)</a>
</h1>
<h4>BPMN 2.0 execution engine</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn">module bpmn</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">bpmn.</span>_initialising</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">bpmn.</span>_initialized</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager">
            function <span class="apidocSignatureSpan">bpmn.</span>ProcessManager
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.clearCache">
            function <span class="apidocSignatureSpan">bpmn.</span>clearCache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.createUnmanagedCollaboratingProcesses">
            function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedCollaboratingProcesses
            <span class="apidocSignatureSpan">(bpmnFilePath, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.createUnmanagedCollaboratingProcessesFromXML">
            function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedCollaboratingProcessesFromXML
            <span class="apidocSignatureSpan">(bpmnXML, handler, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.createUnmanagedProcess">
            function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedProcess
            <span class="apidocSignatureSpan">(bpmnFilePath, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.createUnmanagedProcessFromXML">
            function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedProcessFromXML
            <span class="apidocSignatureSpan">(bpmnXML, handler, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.getBPMNDefinitions">
            function <span class="apidocSignatureSpan">bpmn.</span>getBPMNDefinitions
            <span class="apidocSignatureSpan">(bpmnFilePath, cache)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.mapName2HandlerName">
            function <span class="apidocSignatureSpan">bpmn.</span>mapName2HandlerName
            <span class="apidocSignatureSpan">(bpmnName)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>ProcessManager.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>_definitionsToInitialize</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>_initialiseCallbacks</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>_initializationError</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>_persistency</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>_processCache</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>_processDefinitions</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>_processHandlers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>activity</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>boundaryEvents</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>bunyan2winston</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>callActivity</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>client</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>collaborationDefinition</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>debugger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>definitions</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>endEvents</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>errors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>file</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>find</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>flowObject</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>gateways</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>handler</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>history</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>intermediateEvents</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>logLevels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>manager</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>messageFlows</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>mongodb</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>parser</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>parserUtils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>participant</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>persistency</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>process</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>processDefinition</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>rest</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>sequenceFlows</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>startEvents</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>state</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>subProcess</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>tasks</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>timeouts</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.ProcessManager">module bpmn.ProcessManager</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.ProcessManager">
            function <span class="apidocSignatureSpan">bpmn.</span>ProcessManager
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.ProcessManager.prototype">module bpmn.ProcessManager.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype._afterInitialization">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_afterInitialization
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype._createCollaboratingProcesses">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_createCollaboratingProcesses
            <span class="apidocSignatureSpan">(processDescriptors, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype._createSingleProcess">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_createSingleProcess
            <span class="apidocSignatureSpan">(processId, processName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype._getAllProcesses">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_getAllProcesses
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype._initialiseDefinition">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_initialiseDefinition
            <span class="apidocSignatureSpan">(processDefinition)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.addBpmnFilePath">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addBpmnFilePath
            <span class="apidocSignatureSpan">(bpmnFilePath, processHandler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.addBpmnXML">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addBpmnXML
            <span class="apidocSignatureSpan">(bpmnXml, processName, processHandler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.addHandler">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addHandler
            <span class="apidocSignatureSpan">(name, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.addHandlerFilePath">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addHandlerFilePath
            <span class="apidocSignatureSpan">(name, handlerFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.addHandlerString">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addHandlerString
            <span class="apidocSignatureSpan">(name, handlerString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.createProcess">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>createProcess
            <span class="apidocSignatureSpan">(descriptors, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.createServer">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>createServer
            <span class="apidocSignatureSpan">(options, restifyOptions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.findByName">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>findByName
            <span class="apidocSignatureSpan">(processName, caseSensitive, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.findByProperty">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>findByProperty
            <span class="apidocSignatureSpan">(query, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.findByState">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>findByState
            <span class="apidocSignatureSpan">(stateName, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.get">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>get
            <span class="apidocSignatureSpan">(processId, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.getAllProcesses">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>getAllProcesses
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.ProcessManager.prototype.getDefinitionNames">
            function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>getDefinitionNames
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.activity">module bpmn.activity</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.activity.BPMNActivity">
            function <span class="apidocSignatureSpan">bpmn.activity.</span>BPMNActivity
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">bpmn.activity.</span>activityEndHandlerPostfix</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.boundaryEvents">module bpmn.boundaryEvents</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.boundaryEvents.BPMNBoundaryEvent">
            function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>BPMNBoundaryEvent
            <span class="apidocSignatureSpan">(bpmnId, name, type, attachedToRef)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.boundaryEvents.createBPMNBoundaryEvent">
            function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>createBPMNBoundaryEvent
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.boundaryEvents.isBoundaryEventName">
            function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>isBoundaryEventName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.boundaryEvents.isTimerEventName">
            function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>isTimerEventName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.bunyan2winston">module bpmn.bunyan2winston</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.bunyan2winston.createLogger">
            function <span class="apidocSignatureSpan">bpmn.bunyan2winston.</span>createLogger
            <span class="apidocSignatureSpan">(log)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.callActivity">module bpmn.callActivity</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.callActivity.BPMNCallActivity">
            function <span class="apidocSignatureSpan">bpmn.callActivity.</span>BPMNCallActivity
            <span class="apidocSignatureSpan">(bpmnId, name, type, calledElementName, calledElementNamespace, location)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.callActivity.createBPMNCallActivity">
            function <span class="apidocSignatureSpan">bpmn.callActivity.</span>createBPMNCallActivity
            <span class="apidocSignatureSpan">(node, baseFileName, prefix2NamespaceMap, importNamespace2LocationMap)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.callActivity.isCallActivityName">
            function <span class="apidocSignatureSpan">bpmn.callActivity.</span>isCallActivityName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.client">module bpmn.client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.client.BPMNProcessClient">
            function <span class="apidocSignatureSpan">bpmn.client.</span>BPMNProcessClient
            <span class="apidocSignatureSpan">(bpmnProcess)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.collaborationDefinition">module bpmn.collaborationDefinition</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.collaborationDefinition.BPMNCollaborationDefinition">
            function <span class="apidocSignatureSpan">bpmn.collaborationDefinition.</span>BPMNCollaborationDefinition
            <span class="apidocSignatureSpan">(bpmnId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.collaborationDefinition.createBPMNCollaborationDefinition">
            function <span class="apidocSignatureSpan">bpmn.collaborationDefinition.</span>createBPMNCollaborationDefinition
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.collaborationDefinition.isCollaborationDefinitionName">
            function <span class="apidocSignatureSpan">bpmn.collaborationDefinition.</span>isCollaborationDefinitionName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.debugger">module bpmn.debugger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.debugger.DebuggerInterface">
            function <span class="apidocSignatureSpan">bpmn.debugger.</span>DebuggerInterface
            <span class="apidocSignatureSpan">(url, fileName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.debugger.createDebuggerInterface">
            function <span class="apidocSignatureSpan">bpmn.debugger.</span>createDebuggerInterface
            <span class="apidocSignatureSpan">(node, fileName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.debugger.isDebuggerElement">
            function <span class="apidocSignatureSpan">bpmn.debugger.</span>isDebuggerElement
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.definitions">module bpmn.definitions</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.definitions.clearCache">
            function <span class="apidocSignatureSpan">bpmn.definitions.</span>clearCache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.definitions.getBPMNCollaborationDefinitions">
            function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNCollaborationDefinitions
            <span class="apidocSignatureSpan">(bpmnFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.definitions.getBPMNDefinitions">
            function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNDefinitions
            <span class="apidocSignatureSpan">(bpmnFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.definitions.getBPMNDefinitionsFromXML">
            function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNDefinitionsFromXML
            <span class="apidocSignatureSpan">(bpmnXML, mainProcessName, bpmnFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.definitions.getBPMNProcessDefinition">
            function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNProcessDefinition
            <span class="apidocSignatureSpan">(bpmnFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.definitions.getBPMNProcessDefinitions">
            function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNProcessDefinitions
            <span class="apidocSignatureSpan">(bpmnFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.definitions.getCachedBPMNDefinitions">
            function <span class="apidocSignatureSpan">bpmn.definitions.</span>getCachedBPMNDefinitions
            <span class="apidocSignatureSpan">(bpmnFilePath)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.endEvents">module bpmn.endEvents</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.endEvents.BPMNEndEvent">
            function <span class="apidocSignatureSpan">bpmn.endEvents.</span>BPMNEndEvent
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.endEvents.createBPMNEndEvent">
            function <span class="apidocSignatureSpan">bpmn.endEvents.</span>createBPMNEndEvent
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.endEvents.isEndEventName">
            function <span class="apidocSignatureSpan">bpmn.endEvents.</span>isEndEventName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.errors">module bpmn.errors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.errors.createBPMNParseErrorQueue">
            function <span class="apidocSignatureSpan">bpmn.errors.</span>createBPMNParseErrorQueue
            <span class="apidocSignatureSpan">(fileName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.events">module bpmn.events</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.events.isMessageEventName">
            function <span class="apidocSignatureSpan">bpmn.events.</span>isMessageEventName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.file">module bpmn.file</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.file.Persistency">
            function <span class="apidocSignatureSpan">bpmn.file.</span>Persistency
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.find">module bpmn.find</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.find.findByName">
            function <span class="apidocSignatureSpan">bpmn.find.</span>findByName
            <span class="apidocSignatureSpan">(bpmnProcesses, processName, caseSensitive)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.find.findByProperty">
            function <span class="apidocSignatureSpan">bpmn.find.</span>findByProperty
            <span class="apidocSignatureSpan">(bpmnProcesses, query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.find.findByState">
            function <span class="apidocSignatureSpan">bpmn.find.</span>findByState
            <span class="apidocSignatureSpan">(bpmnProcesses, stateName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.flowObject">module bpmn.flowObject</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.flowObject.BPMNFlowObject">
            function <span class="apidocSignatureSpan">bpmn.flowObject.</span>BPMNFlowObject
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.gateways">module bpmn.gateways</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.gateways.BPMNExclusiveGateway">
            function <span class="apidocSignatureSpan">bpmn.gateways.</span>BPMNExclusiveGateway
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.gateways.BPMNParallelGateway">
            function <span class="apidocSignatureSpan">bpmn.gateways.</span>BPMNParallelGateway
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.gateways.createBPMNGateway">
            function <span class="apidocSignatureSpan">bpmn.gateways.</span>createBPMNGateway
            <span class="apidocSignatureSpan">(node, errorQueue)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.gateways.isGatewayName">
            function <span class="apidocSignatureSpan">bpmn.gateways.</span>isGatewayName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.handler">module bpmn.handler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.handler.callHandler">
            function <span class="apidocSignatureSpan">bpmn.handler.</span>callHandler
            <span class="apidocSignatureSpan">(name, process, data, handlerDoneCallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.handler.getHandlerFileName">
            function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFileName
            <span class="apidocSignatureSpan">(bpmnFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.handler.getHandlerFromFile">
            function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFromFile
            <span class="apidocSignatureSpan">(bpmnFilePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.handler.getHandlerFromProcess">
            function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFromProcess
            <span class="apidocSignatureSpan">(name, process)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.handler.getHandlerFromString">
            function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFromString
            <span class="apidocSignatureSpan">(moduleString)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.handler.mapName2HandlerName">
            function <span class="apidocSignatureSpan">bpmn.handler.</span>mapName2HandlerName
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">bpmn.handler.</span>handlerNameSeparator</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.history">module bpmn.history</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.history.BPMNProcessHistory">
            function <span class="apidocSignatureSpan">bpmn.history.</span>BPMNProcessHistory
            <span class="apidocSignatureSpan">(history)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.history.HistoryEntry">
            function <span class="apidocSignatureSpan">bpmn.history.</span>HistoryEntry
            <span class="apidocSignatureSpan">(name, type, begin, end)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.history.setDummyTimestampFunction">
            function <span class="apidocSignatureSpan">bpmn.history.</span>setDummyTimestampFunction
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.history.setTimestampFunction">
            function <span class="apidocSignatureSpan">bpmn.history.</span>setTimestampFunction
            <span class="apidocSignatureSpan">(getTimestampFunction)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.intermediateEvents">module bpmn.intermediateEvents</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.intermediateEvents.BPMNIntermediateCatchEvent">
            function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>BPMNIntermediateCatchEvent
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.intermediateEvents.BPMNIntermediateThrowEvent">
            function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>BPMNIntermediateThrowEvent
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.intermediateEvents.createBPMNIntermediateCatchEvent">
            function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>createBPMNIntermediateCatchEvent
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.intermediateEvents.createBPMNIntermediateThrowEvent">
            function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>createBPMNIntermediateThrowEvent
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.intermediateEvents.isIntermediateCatchEventName">
            function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>isIntermediateCatchEventName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.intermediateEvents.isIntermediateThrowEventName">
            function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>isIntermediateThrowEventName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.logger">module bpmn.logger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.logger.Logger">
            function <span class="apidocSignatureSpan">bpmn.logger.</span>Logger
            <span class="apidocSignatureSpan">(process, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">bpmn.logger.</span>logLevels</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.manager">module bpmn.manager</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.manager.ProcessManager">
            function <span class="apidocSignatureSpan">bpmn.manager.</span>ProcessManager
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.messageFlows">module bpmn.messageFlows</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.messageFlows.BPMNMessageFlow">
            function <span class="apidocSignatureSpan">bpmn.messageFlows.</span>BPMNMessageFlow
            <span class="apidocSignatureSpan">(bpmnId, name, type, sourceRef, targetRef)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.messageFlows.createBPMNMessageFlow">
            function <span class="apidocSignatureSpan">bpmn.messageFlows.</span>createBPMNMessageFlow
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.messageFlows.isMessageFlowName">
            function <span class="apidocSignatureSpan">bpmn.messageFlows.</span>isMessageFlowName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.mongodb">module bpmn.mongodb</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.mongodb.Persistency">
            function <span class="apidocSignatureSpan">bpmn.mongodb.</span>Persistency
            <span class="apidocSignatureSpan">(uri, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.parser">module bpmn.parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.parser.parse">
            function <span class="apidocSignatureSpan">bpmn.parser.</span>parse
            <span class="apidocSignatureSpan">(bpmnXML, errorQueue, mainProcessName, fileName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.parserUtils">module bpmn.parserUtils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.parserUtils.getAttributesValue">
            function <span class="apidocSignatureSpan">bpmn.parserUtils.</span>getAttributesValue
            <span class="apidocSignatureSpan">(node, attributeName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.parserUtils.splitPrefixedName">
            function <span class="apidocSignatureSpan">bpmn.parserUtils.</span>splitPrefixedName
            <span class="apidocSignatureSpan">(prefixedName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.participant">module bpmn.participant</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.participant.BPMNParticipant">
            function <span class="apidocSignatureSpan">bpmn.participant.</span>BPMNParticipant
            <span class="apidocSignatureSpan">(bpmnId, name, type, processRef)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.participant.createBPMNParticipant">
            function <span class="apidocSignatureSpan">bpmn.participant.</span>createBPMNParticipant
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.participant.isParticipantName">
            function <span class="apidocSignatureSpan">bpmn.participant.</span>isParticipantName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.persistency">module bpmn.persistency</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.persistency.Persistency">
            function <span class="apidocSignatureSpan">bpmn.persistency.</span>Persistency
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.process">module bpmn.process</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.process.createBPMNProcess">
            function <span class="apidocSignatureSpan">bpmn.process.</span>createBPMNProcess
            <span class="apidocSignatureSpan">(id, processDefinition, eventHandler, persistency, parentProcess, parentToken, parentHistoryEntry, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.processDefinition">module bpmn.processDefinition</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.processDefinition.BPMNProcessDefinition">
            function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>BPMNProcessDefinition
            <span class="apidocSignatureSpan">(bpmnId, name, debuggerInterface)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.processDefinition.createBPMNProcessDefinition">
            function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>createBPMNProcessDefinition
            <span class="apidocSignatureSpan">(node, debuggerInterface)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.processDefinition.isExecutable">
            function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>isExecutable
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.processDefinition.isProcessName">
            function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>isProcessName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.rest">module bpmn.rest</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.rest.clearReceivedMessageIds">
            function <span class="apidocSignatureSpan">bpmn.rest.</span>clearReceivedMessageIds
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.rest.createServer">
            function <span class="apidocSignatureSpan">bpmn.rest.</span>createServer
            <span class="apidocSignatureSpan">(manager, options, restifyOptions)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.sequenceFlows">module bpmn.sequenceFlows</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.sequenceFlows.BPMNSequenceFlow">
            function <span class="apidocSignatureSpan">bpmn.sequenceFlows.</span>BPMNSequenceFlow
            <span class="apidocSignatureSpan">(bpmnId, name, type, sourceRef, targetRef)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.sequenceFlows.createBPMNSequenceFlow">
            function <span class="apidocSignatureSpan">bpmn.sequenceFlows.</span>createBPMNSequenceFlow
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.sequenceFlows.isSequenceFlowName">
            function <span class="apidocSignatureSpan">bpmn.sequenceFlows.</span>isSequenceFlowName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.startEvents">module bpmn.startEvents</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.startEvents.BPMNStartEvent">
            function <span class="apidocSignatureSpan">bpmn.startEvents.</span>BPMNStartEvent
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.startEvents.createBPMNStartEvent">
            function <span class="apidocSignatureSpan">bpmn.startEvents.</span>createBPMNStartEvent
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.startEvents.isStartEventName">
            function <span class="apidocSignatureSpan">bpmn.startEvents.</span>isStartEventName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.state">module bpmn.state</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.state.BPMNProcessState">
            function <span class="apidocSignatureSpan">bpmn.state.</span>BPMNProcessState
            <span class="apidocSignatureSpan">(state)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.state.CallActivityToken">
            function <span class="apidocSignatureSpan">bpmn.state.</span>CallActivityToken
            <span class="apidocSignatureSpan">(flowObjectName, owningProcessId, calledProcessId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.state.Token">
            function <span class="apidocSignatureSpan">bpmn.state.</span>Token
            <span class="apidocSignatureSpan">(flowObjectName, owningProcessId)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.subProcess">module bpmn.subProcess</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.subProcess.BPMNSubProcess">
            function <span class="apidocSignatureSpan">bpmn.subProcess.</span>BPMNSubProcess
            <span class="apidocSignatureSpan">(bpmnId, name, type, subProcessDefinition)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.subProcess.createBPMNSubProcess">
            function <span class="apidocSignatureSpan">bpmn.subProcess.</span>createBPMNSubProcess
            <span class="apidocSignatureSpan">(node, subProcessDefinition)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.subProcess.isSubProcessName">
            function <span class="apidocSignatureSpan">bpmn.subProcess.</span>isSubProcessName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.tasks">module bpmn.tasks</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.tasks.BPMNTask">
            function <span class="apidocSignatureSpan">bpmn.tasks.</span>BPMNTask
            <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.tasks.createBPMNTask">
            function <span class="apidocSignatureSpan">bpmn.tasks.</span>createBPMNTask
            <span class="apidocSignatureSpan">(node)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.tasks.isTaskName">
            function <span class="apidocSignatureSpan">bpmn.tasks.</span>isTaskName
            <span class="apidocSignatureSpan">(localName)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.timeouts">module bpmn.timeouts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.timeouts.BPMNPendingTimerEvents">
            function <span class="apidocSignatureSpan">bpmn.timeouts.</span>BPMNPendingTimerEvents
            <span class="apidocSignatureSpan">(bpmnProcess)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.bpmn.utils">module bpmn.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.utils.HashMap">
            function <span class="apidocSignatureSpan">bpmn.utils.</span>HashMap
            <span class="apidocSignatureSpan">(caseSensitive)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.utils.firstToUpper">
            function <span class="apidocSignatureSpan">bpmn.utils.</span>firstToUpper
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.bpmn.utils.toUpperCamelCase">
            function <span class="apidocSignatureSpan">bpmn.utils.</span>toUpperCamelCase
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn" id="apidoc.module.bpmn">module bpmn</a></h1>






    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager" id="apidoc.element.bpmn.ProcessManager">
        function <span class="apidocSignatureSpan">bpmn.</span>ProcessManager
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ProcessManager = function (options){
    var self = this;

    options = options || {};

    self._processCache = {};

    self._initialized = true;
    self._initialising = false;
    self._initializationError = null;
    self._definitionsToInitialize = [];
    self._initialiseCallbacks = [];

    self._persistency = null;
    if (options.persistencyOptions) {
        self._persistency =  new Persistency(options.persistencyOptions);
        self._doneLoadingHandler = options.persistencyOptions.doneLoading;
        self._doneSavingHandler = options.persistencyOptions.doneSaving;
    }

    self._processHandlers = {};
    self._processDefinitions = {};


    if(!options.handlerFilePath){
        options.handlerFilePath = [];
    }

    if(!util.isArray(options.handlerFilePath)){
        options.handlerFilePath = [options.handlerFilePath];
    }

    options.handlerFilePath.forEach(function(handlerDescriptor){
        if(!handlerDescriptor.name || !handlerDescriptor.filePath){
            throw new Error(&#x22;handlerFilePath needs a name and a filePath&#x22;);
        }

        self.addHandlerFilePath(handlerDescriptor.name, handlerDescriptor.filePath);
    });


    if(!options.handler){
        options.handler = [];
    }

    if(!util.isArray(options.handler)){
        options.handler = [options.handler];
    }

    options.handler.forEach(function(handlerDescriptor){
        if(!handlerDescriptor.name || !handlerDescriptor.module){
            throw new Error(&#x22;handler needs a name and a module&#x22;);
        }

        self.addHandler(handlerDescriptor.name, handlerDescriptor.module);
    });

    if(!options.handlerString){
        options.handlerString = [];
    }

    if(!util.isArray(options.handlerString)){
        options.handlerString = [options.handlerString];
    }

    options.handlerString.forEach(function(handlerString){
        if(!handlerString.name || !handlerString.string){
            throw new Error(&#x22;handlerString needs a name and a string&#x22;);
        }

        self.addHandlerString(handlerString.name, handlerString.string);
    });


    if(!options.bpmnFilePath){
        options.bpmnFilePath = [];
    }

    if(!util.isArray(options.bpmnFilePath)){
        options.bpmnFilePath = [options.bpmnFilePath];
    }

    options.bpmnFilePath.forEach(function(filePath){
        self.addBpmnFilePath(filePath);
    });


    if(!options.bpmnXML){
        options.bpmnXML = [];
    }

    if(!util.isArray(options.bpmnXML)){
        options.bpmnXML = [options.bpmnXML];
    }

    options.bpmnXML.forEach(function(bpmnXML){
        if(!bpmnXML.name || !bpmnXML.xml){
            throw new Error(&#x22;bpmnXML needs a name and a xml&#x22;);
        }

        self.addBpmnXML(bpmnXML.xml, bpmnXML.name);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	bpmnProcess.removeLogTransport(winston.transports.File);

Managing processes
==================

Process managers are used to create multiple processes using the same definitions and find them back later.

    var manager = new bpmn.<span class="apidocCodeKeywordSpan">ProcessManager</span>();

    manager.addBpmnFilePath(&#x22;path/to/myProcess.bpmn&#x22;);

    manager.createProcess(&#x22;myId&#x22;, function(err, myProcess){

// we start the process
myProcess.triggerEvent(&#x22;MyStart&#x22;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.clearCache" id="apidoc.element.bpmn.clearCache">
        function <span class="apidocSignatureSpan">bpmn.</span>clearCache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearCache = function () {
    definitions.clearCache();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var ProcessManager = require(&#x27;./manager&#x27;).ProcessManager;

module.exports = exports = new ProcessManager();

exports.ProcessManager = ProcessManager;

exports.clearCache = function() {
   definitions.<span class="apidocCodeKeywordSpan">clearCache</span>();
};

exports.logLevels = logger.logLevels;

/**
* A BPMN process is created.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.createUnmanagedCollaboratingProcesses" id="apidoc.element.bpmn.createUnmanagedCollaboratingProcesses">
        function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedCollaboratingProcesses
        <span class="apidocSignatureSpan">(bpmnFilePath, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUnmanagedCollaboratingProcesses = function (bpmnFilePath, callback) {
    var processes = {};
    var processDefinitions = definitions.getBPMNProcessDefinitions(bpmnFilePath);
    var handler = handlers.getHandlerFromFile(bpmnFilePath);

    async.eachSeries(processDefinitions, function(processDefinition, done) {
        bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){
            if(err){
                done(err);
            }
            processes[processDefinition.name] = bpmnProcess;
            done();
        });
    }, function(err){
        var clients = [];

        Object.keys(processes).forEach(function(name){
            var bpmnProcess = processes[name];

            var participants = bpmnProcess.getProcessDefinition().getCollaboratingParticipants();

            participants.forEach(function (participant) {
                bpmnProcess.addParticipant(participant.name, processes[participant.name]);
            });

            clients.push(bpmnProcess.processClient);
        });

        callback(err, clients);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
BPMN also supports collaborating processes as depicted below.

![](https://raw.githubusercontent.com/e2ebridge/bpmn/master/examples/processes/collaboration.png)

These processes must be created together:

	// create collaborating processes
bpmn.<span class="apidocCodeKeywordSpan">createUnmanagedCollaboratingProcesses</span>(&#x22;my/collaboration/example.bpmn&#x22;,
function(err, collaboratingProcesses){

    // start the second process
    var secondProcess = collaboratingProcesses[1];
    secondProcess.triggerEvent(&#x22;Start Event 2&#x22;);

});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.createUnmanagedCollaboratingProcessesFromXML" id="apidoc.element.bpmn.createUnmanagedCollaboratingProcessesFromXML">
        function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedCollaboratingProcessesFromXML
        <span class="apidocSignatureSpan">(bpmnXML, handler, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUnmanagedCollaboratingProcessesFromXML = function (bpmnXML, handler, callback) {
    var processes = {};
    var processDefinitions = definitions.getBPMNDefinitionsFromXML(bpmnXML);

    if(typeof handler === &#x27;string&#x27;){
        handler = handlers.getHandlerFromString(handler);
    }

    async.eachSeries(processDefinitions, function(processDefinition, done) {
        bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){
            if(err){
                done(err);
            }
            processes[processDefinition.name] = bpmnProcess;
            done();
        });
    }, function(err){
        var clients = [];

        Object.keys(processes).forEach(function(name){
            var bpmnProcess = processes[name];

            var participants = bpmnProcess.getProcessDefinition().getCollaboratingParticipants();

            participants.forEach(function (participant) {
                bpmnProcess.addParticipant(participant.name, processes[participant.name]);
            });

            clients.push(bpmnProcess.processClient);
        });

        callback(err, clients);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.createUnmanagedProcess" id="apidoc.element.bpmn.createUnmanagedProcess">
        function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedProcess
        <span class="apidocSignatureSpan">(bpmnFilePath, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUnmanagedProcess = function (bpmnFilePath, callback) {
    var processDefinition, error;
    var processDefinitions = definitions.getBPMNProcessDefinitions(bpmnFilePath);
    var handler = handlers.getHandlerFromFile(bpmnFilePath);

    if (processDefinitions.length === 1) {
        processDefinition = processDefinitions[0];
    } else {
        error = new Error(&#x22;The BPMN file &#x27;&#x22; + bpmnFilePath + &#x22;&#x27;. contains more than one process definition. Use &#x27;createCollaboratingProcesses
&#x27; instead of &#x27;createProcess&#x27;&#x22;);
        if(!callback) {
            throw error;
        } else {
            callback(error);
        }
    }

    bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){
        if(!callback){
            return;
        }

        callback(err, bpmnProcess.processClient);
    });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
![](https://raw.githubusercontent.com/e2ebridge/bpmn/master/examples/processes/task.png)

then this process can be created by


	var bpmn = require(&#x22;bpmn&#x22;);
	// We assume there is a myProcess.js besides myProcess.bpmn that contains the handlers
	bpmn.<span class="apidocCodeKeywordSpan">createUnmanagedProcess</span>(&#x22;path/to/myProcess.bpmn&#x22;, function(err, myProcess
){

        // we start the process
        myProcess.triggerEvent(&#x22;MyStart&#x22;);

	});

The handler file looks like:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.createUnmanagedProcessFromXML" id="apidoc.element.bpmn.createUnmanagedProcessFromXML">
        function <span class="apidocSignatureSpan">bpmn.</span>createUnmanagedProcessFromXML
        <span class="apidocSignatureSpan">(bpmnXML, handler, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUnmanagedProcessFromXML = function (bpmnXML, handler, callback) {
    var processDefinition, error;
    var processDefinitions = definitions.getBPMNDefinitionsFromXML(bpmnXML, &#x22;Standalone&#x22;);

    if (processDefinitions.length === 1) {
        processDefinition = processDefinitions[0];
    } else {
        error = new Error(&#x22;The BPMN XML contains more than one process definition. Use &#x27;createCollaboratingProcesses&#x27; instead of
 &#x27;createProcess&#x27;&#x22;);
        return callback(error);
    }

    if(typeof handler === &#x27;string&#x27;) {
        handler = handlers.getHandlerFromString(handler);
    }

    bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){
        callback(err, bpmnProcess.processClient);
    });

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    	// Called after MyEnd has been reached
    	done(data);
	};

Processes can also be created from an xml string instead of file. In this case the handler can be an object or a javascript string
 that would be parsed.


	bpmn.<span class="apidocCodeKeywordSpan">createUnmanagedProcessFromXML</span>(&#x22;&#x3c;definitions ... &#x3c;/definitions&#x3e
;&#x22;, &#x22;exports.MyStart = ...&#x22;, function(err, myProcess){

        // we start the process
        myProcess.triggerEvent(&#x22;MyStart&#x22;);

	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.getBPMNDefinitions" id="apidoc.element.bpmn.getBPMNDefinitions">
        function <span class="apidocSignatureSpan">bpmn.</span>getBPMNDefinitions
        <span class="apidocSignatureSpan">(bpmnFilePath, cache)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBPMNDefinitions = function (bpmnFilePath, cache) {
    var bpmnDefinitions = null;
    if (cache) {
        bpmnDefinitions = definitions.getCachedBPMNDefinitions(bpmnFilePath);
    } else {
        bpmnDefinitions = definitions.getBPMNDefinitions(bpmnFilePath);
    }
    return bpmnDefinitions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.mapName2HandlerName" id="apidoc.element.bpmn.mapName2HandlerName">
        function <span class="apidocSignatureSpan">bpmn.</span>mapName2HandlerName
        <span class="apidocSignatureSpan">(bpmnName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapName2HandlerName = function (bpmnName) {
    return handlers.mapName2HandlerName(bpmnName);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @private
 */
BPMNProcess.prototype._registerActivityEndEvents = function() {
    var self = this;

    self.on(ACTIVITY_END_EVENT, function(activityName, data) {
var currentToken, owningProcessId, currentProcess, currentFlowObject, activityEndHandlerIsDone;
var handlerName = handler.<span class="apidocCodeKeywordSpan">mapName2HandlerName</span>(activityName) + activityEndHandlerPostfix
;
var trx = self.currentTrx = null;

if(self.transactionLogger){
    trx = self.currentTrx = self.transactionLogger.startTransaction(self.processDefinition.name, &#x27;PSTATE&#x27;, &#x27;TRANSITION
&#x27;, null, activityName+&#x27;Done&#x27;);
}

if (self.state.hasTokens(activityName)) {
...</pre></li>
    </ul>




























































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.ProcessManager" id="apidoc.module.bpmn.ProcessManager">module bpmn.ProcessManager</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.ProcessManager" id="apidoc.element.bpmn.ProcessManager.ProcessManager">
        function <span class="apidocSignatureSpan">bpmn.</span>ProcessManager
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ProcessManager = function (options){
    var self = this;

    options = options || {};

    self._processCache = {};

    self._initialized = true;
    self._initialising = false;
    self._initializationError = null;
    self._definitionsToInitialize = [];
    self._initialiseCallbacks = [];

    self._persistency = null;
    if (options.persistencyOptions) {
        self._persistency =  new Persistency(options.persistencyOptions);
        self._doneLoadingHandler = options.persistencyOptions.doneLoading;
        self._doneSavingHandler = options.persistencyOptions.doneSaving;
    }

    self._processHandlers = {};
    self._processDefinitions = {};


    if(!options.handlerFilePath){
        options.handlerFilePath = [];
    }

    if(!util.isArray(options.handlerFilePath)){
        options.handlerFilePath = [options.handlerFilePath];
    }

    options.handlerFilePath.forEach(function(handlerDescriptor){
        if(!handlerDescriptor.name || !handlerDescriptor.filePath){
            throw new Error(&#x22;handlerFilePath needs a name and a filePath&#x22;);
        }

        self.addHandlerFilePath(handlerDescriptor.name, handlerDescriptor.filePath);
    });


    if(!options.handler){
        options.handler = [];
    }

    if(!util.isArray(options.handler)){
        options.handler = [options.handler];
    }

    options.handler.forEach(function(handlerDescriptor){
        if(!handlerDescriptor.name || !handlerDescriptor.module){
            throw new Error(&#x22;handler needs a name and a module&#x22;);
        }

        self.addHandler(handlerDescriptor.name, handlerDescriptor.module);
    });

    if(!options.handlerString){
        options.handlerString = [];
    }

    if(!util.isArray(options.handlerString)){
        options.handlerString = [options.handlerString];
    }

    options.handlerString.forEach(function(handlerString){
        if(!handlerString.name || !handlerString.string){
            throw new Error(&#x22;handlerString needs a name and a string&#x22;);
        }

        self.addHandlerString(handlerString.name, handlerString.string);
    });


    if(!options.bpmnFilePath){
        options.bpmnFilePath = [];
    }

    if(!util.isArray(options.bpmnFilePath)){
        options.bpmnFilePath = [options.bpmnFilePath];
    }

    options.bpmnFilePath.forEach(function(filePath){
        self.addBpmnFilePath(filePath);
    });


    if(!options.bpmnXML){
        options.bpmnXML = [];
    }

    if(!util.isArray(options.bpmnXML)){
        options.bpmnXML = [options.bpmnXML];
    }

    options.bpmnXML.forEach(function(bpmnXML){
        if(!bpmnXML.name || !bpmnXML.xml){
            throw new Error(&#x22;bpmnXML needs a name and a xml&#x22;);
        }

        self.addBpmnXML(bpmnXML.xml, bpmnXML.name);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	bpmnProcess.removeLogTransport(winston.transports.File);

Managing processes
==================

Process managers are used to create multiple processes using the same definitions and find them back later.

    var manager = new bpmn.<span class="apidocCodeKeywordSpan">ProcessManager</span>();

    manager.addBpmnFilePath(&#x22;path/to/myProcess.bpmn&#x22;);

    manager.createProcess(&#x22;myId&#x22;, function(err, myProcess){

// we start the process
myProcess.triggerEvent(&#x22;MyStart&#x22;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.ProcessManager.prototype" id="apidoc.module.bpmn.ProcessManager.prototype">module bpmn.ProcessManager.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype._afterInitialization" id="apidoc.element.bpmn.ProcessManager.prototype._afterInitialization">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_afterInitialization
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_afterInitialization = function (callback){
    if(this._initialized){
        return callback(this._initializationError);
    }

    this._initialiseCallbacks.push(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * @param {String} processId
 * @param {Function} callback
 */
ProcessManager.prototype.get = function get(processId, callback) {
    var self = this;

    this.<span class="apidocCodeKeywordSpan">_afterInitialization</span>(function(err){
        if(callback){
            callback(err, self._processCache[processId]);
        }
    });
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype._createCollaboratingProcesses" id="apidoc.element.bpmn.ProcessManager.prototype._createCollaboratingProcesses">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_createCollaboratingProcesses
        <span class="apidocSignatureSpan">(processDescriptors, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createCollaboratingProcesses = function (processDescriptors, callback) {
    var self = this;
    var processes = {};

    async.eachSeries(processDescriptors, function(processDescriptor, done) {

        self._createSingleProcess(processDescriptor.id, processDescriptor.name, function(err, bpmnProcess){
            if(err){
                done(err);
            }
            processes[processDescriptor.name] = bpmnProcess;
            done();
        });

    }, function(err){
        var results = [];

        Object.keys(processes).forEach(function(name){
            var bpmnProcess = processes[name];

            var participants = bpmnProcess.getProcessDefinition().getCollaboratingParticipants();

            participants.forEach(function (participant) {
                bpmnProcess.addParticipant(participant.name, processes[participant.name]);
            });

            results.push(bpmnProcess);
        });

        callback(err, results);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    err = new Error(&#x27;id already used&#x27;);
}
            });
            if(err){
return callback(err);
            }

            self.<span class="apidocCodeKeywordSpan">_createCollaboratingProcesses</span>(descriptors, function(err, bpmnProcesses
){
if(err){
    return callback(err);
}

descriptors.forEach(function(descriptor){             // check if one of the ids is already used
    if(self._processCache[descriptor.id]){          // again because a process could have been created in between
        err = new Error(&#x27;id already used&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype._createSingleProcess" id="apidoc.element.bpmn.ProcessManager.prototype._createSingleProcess">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_createSingleProcess
        <span class="apidocSignatureSpan">(processId, processName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_createSingleProcess = function (processId, processName, callback){
    createBPMNProcess(processId, this._processDefinitions[processName], this._processHandlers[processName], this._persistency, function
(err, bpmnProcess){
        callback(err, bpmnProcess);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                return;
            }

            self._processDefinitions[currentDefinition.name] = currentDefinition;

            async.each(documents, function(document, done){                                                         // for each
persisted document found

                self.<span class="apidocCodeKeywordSpan">_createSingleProcess</span>(document.processId, currentDefinition.name,
function(err, bpmnProcess){       // create the process
if(err){
    return done(err);
}

if(self._processCache[bpmnProcess.getProcessId()]){                  // check if id already used
    return done(new Error(&#x27;duplicated id in persisted data&#x27;));
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype._getAllProcesses" id="apidoc.element.bpmn.ProcessManager.prototype._getAllProcesses">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_getAllProcesses
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getAllProcesses = function (callback) {
    var self = this;
    var allProcessIds = Object.keys(this._processCache);

    if(!callback){
        return;
    }

    callback(null, allProcessIds.map(function(loadedProcessId) {
        return self._processCache[loadedProcessId];
    }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...


    this._afterInitialization(function(err){
        if (err) {
return callback(err);
        }

        self.<span class="apidocCodeKeywordSpan">_getAllProcesses</span>(function (err, bpmnProcesses) {
if (err) {
    return callback(err);
}

callback(null, bpmnProcesses.map(function (bpmnProcess) {
    return bpmnProcess.processClient;
}));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype._initialiseDefinition" id="apidoc.element.bpmn.ProcessManager.prototype._initialiseDefinition">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>_initialiseDefinition
        <span class="apidocSignatureSpan">(processDefinition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_initialiseDefinition = function (processDefinition){
    var self = this;

    self._initializationError = null;
    self._initialized = false;

    self._definitionsToInitialize.push(processDefinition);

    if(!self._initialising){    // if already initialising we don&#x27;t call next, the definition will be initialised after current
one.
        next();
    }

    /**
     * Called after all initializations are done.
     * @param err
     */
    function execCallbacks(err){
        self._definitionsToInitialize = [];

        self._initializationError = err;
        self._initialized = true;
        self._initialising = false;

        self._initialiseCallbacks.forEach(function(callback){   // call all waiting callbacks
            callback(err);
        });
    }

    function next(){
        self._initialising = true;

        if(self._definitionsToInitialize.length === 0){     // if all definitions have been initialized
            return execCallbacks();
        }

        var currentDefinition = self._definitionsToInitialize.pop();    // get the next definition

        if(self._processDefinitions[currentDefinition.name] ||      // if the definition already exist it means the processes were
 already loaded
                !self._persistency){                                // if there is no persistency nothing needs to be loaded

            self._processDefinitions[currentDefinition.name] = currentDefinition;   // we simply add or replace the definition
            return next();
        }


        self._persistency.loadAll(currentDefinition.name, function(err, documents){     // load all saved document

            if(err){
                execCallbacks(err);
                return;
            }

            self._processDefinitions[currentDefinition.name] = currentDefinition;

            async.each(documents, function(document, done){                                                         // for each
persisted document found

                self._createSingleProcess(document.processId, currentDefinition.name, function(err, bpmnProcess){       // create
 the process
                    if(err){
                        return done(err);
                    }

                    if(self._processCache[bpmnProcess.getProcessId()]){                  // check if id already used
                        return done(new Error(&#x27;duplicated id in persisted data&#x27;));
                    }

                    self._processCache[bpmnProcess.getProcessId()] = bpmnProcess;
                    done();
                });

            }, function(err){
                if(err){
                    return execCallbacks(err);
                }

                next();
            });

        });

    }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

       if(processHandler) {
           self._processHandlers[processDefinition.name] = processHandler;
       } else if(!self._processHandlers[processDefinition.name]){
           throw new Error(&#x27;No process handler defined for process &#x22;&#x27;+processDefinition.name+&#x27;&#x22;. The process
 handler must be defined before the process or with the process.&#x27;);
       }

       self.<span class="apidocCodeKeywordSpan">_initialiseDefinition</span>(processDefinition);
   });
};

/**
* Add a bpmn XML to the manager.
* All process definition found in this file will be initialized and replace the old ones if exists.
* A process handler object or file path can be passed. If none passed the same file path as the bpmn is used or the existing handler
.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.addBpmnFilePath" id="apidoc.element.bpmn.ProcessManager.prototype.addBpmnFilePath">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addBpmnFilePath
        <span class="apidocSignatureSpan">(bpmnFilePath, processHandler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addBpmnFilePath = function (bpmnFilePath, processHandler){
    var self = this;
    var processDefinitions;

    if(typeof processHandler === &#x27;string&#x27;){
        processHandler = handlers.getHandlerFromFile(processHandler);
    }

    if(!processHandler){
        try{
            processHandler = handlers.getHandlerFromFile(bpmnFilePath);
            processHandler.doneLoadingHandler = self._doneLoadingHandler;
            processHandler.doneSavingHandler = self._doneSavingHandler;
        }catch(err){}
    }

    processDefinitions = definitions.getBPMNProcessDefinitions(bpmnFilePath);

    processDefinitions.forEach(function(processDefinition){

        if(processHandler) {
            self._processHandlers[processDefinition.name] = processHandler;
        } else if(!self._processHandlers[processDefinition.name]){
            throw new Error(&#x27;No process handler defined for process &#x22;&#x27;+processDefinition.name+&#x27;&#x22;. The process handler must be defined
 before the process or with the process.&#x27;);
        }

        self._initialiseDefinition(processDefinition);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Managing processes
==================

Process managers are used to create multiple processes using the same definitions and find them back later.

var manager = new bpmn.ProcessManager();

manager.<span class="apidocCodeKeywordSpan">addBpmnFilePath</span>(&#x22;path/to/myProcess.bpmn&#x22;);

manager.createProcess(&#x22;myId&#x22;, function(err, myProcess){

    // we start the process
    myProcess.triggerEvent(&#x22;MyStart&#x22;);

});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.addBpmnXML" id="apidoc.element.bpmn.ProcessManager.prototype.addBpmnXML">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addBpmnXML
        <span class="apidocSignatureSpan">(bpmnXml, processName, processHandler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addBpmnXML = function (bpmnXml, processName, processHandler){
    var self = this;
    var processDefinitions;

    if(typeof processHandler === &#x27;string&#x27;){
        processHandler = handlers.getHandlerFromString(processHandler);
    }

    processDefinitions = definitions.getBPMNDefinitionsFromXML(bpmnXml, processName);

    processDefinitions.forEach(function(processDefinition){

        if(processHandler) {
            self._processHandlers[processDefinition.name] = processHandler;
        } else if(!self._processHandlers[processDefinition.name]){
            throw new Error(&#x27;No process handler defined for process &#x22;&#x27;+processDefinition.name+&#x27;&#x22;. The process handler must be defined
 before the process or with the process.&#x27;);
        }

        self._initialiseDefinition(processDefinition);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   }

   options.bpmnXML.forEach(function(bpmnXML){
       if(!bpmnXML.name || !bpmnXML.xml){
           throw new Error(&#x22;bpmnXML needs a name and a xml&#x22;);
       }

       self.<span class="apidocCodeKeywordSpan">addBpmnXML</span>(bpmnXML.xml, bpmnXML.name);
   });
};

/**
* Initialise a new definition by loading all persisted process.
* All other function that need the initialise state will wait until initialization is done.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.addHandler" id="apidoc.element.bpmn.ProcessManager.prototype.addHandler">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addHandler
        <span class="apidocSignatureSpan">(name, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addHandler = function (name, handler){
    this._processHandlers[name] = handler;
    this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;
    this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

options.handler.forEach(function(handlerDescriptor){
    if(!handlerDescriptor.name || !handlerDescriptor.module){
        throw new Error(&#x22;handler needs a name and a module&#x22;);
    }

    self.<span class="apidocCodeKeywordSpan">addHandler</span>(handlerDescriptor.name, handlerDescriptor.module);
});

if(!options.handlerString){
    options.handlerString = [];
}

if(!util.isArray(options.handlerString)){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.addHandlerFilePath" id="apidoc.element.bpmn.ProcessManager.prototype.addHandlerFilePath">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addHandlerFilePath
        <span class="apidocSignatureSpan">(name, handlerFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addHandlerFilePath = function (name, handlerFilePath){
    this._processHandlers[name] = handlers.getHandlerFromFile(handlerFilePath);
    this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;
    this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    var manager = new bpmn.ProcessManager({
        bpmnFilePath: &#x22;path/to/myProcess.bpmn&#x22;
    });



ProcessManager.<span class="apidocCodeKeywordSpan">addHandlerFilePath</span>(name, handlerFilePath)

- **name**: The name of the process definition for which the handler will be used.
- **handlerFilePath**: Path to the javascript file defining the handler module.

ProcessManager.addHandlerString = function(name, handlerString)

- **name**: The name of the process definition for which the handler will be used.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.addHandlerString" id="apidoc.element.bpmn.ProcessManager.prototype.addHandlerString">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>addHandlerString
        <span class="apidocSignatureSpan">(name, handlerString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addHandlerString = function (name, handlerString){
    this._processHandlers[name] = handlers.getHandlerFromString(handlerString);
    this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;
    this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

options.handlerString.forEach(function(handlerString){
    if(!handlerString.name || !handlerString.string){
        throw new Error(&#x22;handlerString needs a name and a string&#x22;);
    }

    self.<span class="apidocCodeKeywordSpan">addHandlerString</span>(handlerString.name, handlerString.string);
});


if(!options.bpmnFilePath){
    options.bpmnFilePath = [];
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.createProcess" id="apidoc.element.bpmn.ProcessManager.prototype.createProcess">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>createProcess
        <span class="apidocSignatureSpan">(descriptors, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createProcess = function (descriptors, callback) {
    var self = this;

    this._afterInitialization(function(err){
        if(err){
            return callback(err);
        }

        if (typeof descriptors === &#x27;string&#x27; &#x26;&#x26; Object.keys(self._processDefinitions).length !== 1) {
            return callback(new Error(&#x22;The manager contains more than one process definition. &#x22; +
                &#x22;processId have to be an Array.&#x3c;{name: String, id: String}&#x3e;} &#x22;));
        }

        if(util.isArray(descriptors)) {
            descriptors.forEach(function(descriptor){             // check if one of the ids is already used
                if(self._processCache[descriptor.id]){
                    err = new Error(&#x27;id already used&#x27;);
                }
            });
            if(err){
                return callback(err);
            }

            self._createCollaboratingProcesses(descriptors, function(err, bpmnProcesses){
                if(err){
                    return callback(err);
                }

                descriptors.forEach(function(descriptor){             // check if one of the ids is already used
                    if(self._processCache[descriptor.id]){          // again because a process could have been created in between
                        err = new Error(&#x27;id already used&#x27;);
                    }
                });
                if(err){
                    return callback(err);
                }

                callback(null, bpmnProcesses.map(function(bpmnProcess){
                    self._processCache[bpmnProcess.getProcessId()] = bpmnProcess;
                    return bpmnProcess.processClient;
                }));
            });

            return;
        }

        if(typeof descriptors === &#x27;string&#x27;) {
            descriptors = {
                id: descriptors,
                name: Object.keys(self._processDefinitions)[0]
            };
        }

        if(self._processCache[descriptors.id]){                                        // check if id already used
            return callback(new Error(&#x27;id already used&#x27;));
        }

        self._createSingleProcess(descriptors.id, descriptors.name, function(err, bpmnProcess){
            if(err){
                return callback(err);
            }

            if(self._processCache[descriptors.id]){                                      // check if id already used
                return callback(new Error(&#x27;id already used&#x27;));                      // again because a process could have been created
 in between
            }

            self._processCache[descriptors.id] = bpmnProcess;
            callback(null, bpmnProcess.processClient);
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Process managers are used to create multiple processes using the same definitions and find them back later.

    var manager = new bpmn.ProcessManager();

    manager.addBpmnFilePath(&#x22;path/to/myProcess.bpmn&#x22;);

    manager.<span class="apidocCodeKeywordSpan">createProcess</span>(&#x22;myId&#x22;, function(err, myProcess){

        // we start the process
        myProcess.triggerEvent(&#x22;MyStart&#x22;);

    });

If the process id is already used an error is returned.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.createServer" id="apidoc.element.bpmn.ProcessManager.prototype.createServer">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>createServer
        <span class="apidocSignatureSpan">(options, restifyOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createServer = function (options, restifyOptions){
    return rest.createServer(this,  options, restifyOptions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Server
------

The above API can also be called by REST HTTP calls. To do this, you have first to instantiate a server from ta manager. For example
:

	// Returns a restify server.
	var server = manager.<span class="apidocCodeKeywordSpan">createServer</span>();
	server.listen(9009, function() {
    	console.log(&#x27;%s listening at %s&#x27;, server.name, server.url);
	});

The server is a node restify server. So all features of this package can be used.
The full signature of `createProcess`  is
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.findByName" id="apidoc.element.bpmn.ProcessManager.prototype.findByName">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>findByName
        <span class="apidocSignatureSpan">(processName, caseSensitive, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findByName = function (processName, caseSensitive, callback) {
    var self = this;

    if(typeof caseSensitive === &#x27;function&#x27;){
        callback = caseSensitive;
        caseSensitive = true;
    }

    if(!callback){
        return;
    }

    this._afterInitialization(function(err){
        if (err) {
            return callback(err);
        }

        self.getAllProcesses(function (err, bpmnProcesses) {
            if (err) {
                return callback(err);
            }

            callback(null, find.findByName(bpmnProcesses, processName, caseSensitive));
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// returns all processes in this state (callActivity, tasks, event, ...)
	bpmn.findByState(stateName, function(err, processes){
        ...
    });

	// returns all processes using this definition
	bpmn.<span class="apidocCodeKeywordSpan">findByName</span>(definitionName, function(err, processes){
        ...
    });


Persistency
-----------
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.findByProperty" id="apidoc.element.bpmn.ProcessManager.prototype.findByProperty">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>findByProperty
        <span class="apidocSignatureSpan">(query, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findByProperty = function (query, callback) {
    var self = this;

    if(!callback){
        return;
    }

    this._afterInitialization(function(err){
        if (err) {
            return callback(err);
        }

        self.getAllProcesses(function (err, bpmnProcesses) {
            if (err) {
                return callback(err);
            }

            callback(null, find.findByProperty(bpmnProcesses, query));
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// returns all processes
bpmn.getAllProcesses(function(err, processes){
    ...
});

	// returns all processes having the property names
	bpmn.<span class="apidocCodeKeywordSpan">findByProperty</span>({propName1: propValue1, propName2: propValue2, ...}, function(err
, processes){
    ...
});

	// returns all processes in this state (callActivity, tasks, event, ...)
	bpmn.findByState(stateName, function(err, processes){
    ...
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.findByState" id="apidoc.element.bpmn.ProcessManager.prototype.findByState">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>findByState
        <span class="apidocSignatureSpan">(stateName, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findByState = function (stateName, callback) {
    var self = this;

    if(!callback){
        return;
    }

    this._afterInitialization(function(err){
        if (err) {
            return callback(err);
        }

        self.getAllProcesses(function (err, bpmnProcesses) {
            if (err) {
                return callback(err);
            }

            callback(null, find.findByState(bpmnProcesses, stateName));
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// returns all processes having the property names
	bpmn.findByProperty({propName1: propValue1, propName2: propValue2, ...}, function(err, processes){
    ...
});

	// returns all processes in this state (callActivity, tasks, event, ...)
	bpmn.<span class="apidocCodeKeywordSpan">findByState</span>(stateName, function(err, processes){
    ...
});

	// returns all processes using this definition
	bpmn.findByName(definitionName, function(err, processes){
    ...
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.get" id="apidoc.element.bpmn.ProcessManager.prototype.get">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>get
        <span class="apidocSignatureSpan">(processId, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function get(processId, callback) {
    var self = this;

    this._afterInitialization(function(err){
        if(callback){
            callback(err, self._processCache[processId]);
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Finding processes
-----------------

Existing processes in a manager can be retrived using these functions:

	// returns the process with the corresponding id
	bpmn.<span class="apidocCodeKeywordSpan">get</span>(processId, function(err, process){
    ...
	});

	// returns all processes
bpmn.getAllProcesses(function(err, processes){
    ...
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.getAllProcesses" id="apidoc.element.bpmn.ProcessManager.prototype.getAllProcesses">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>getAllProcesses
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAllProcesses = function (callback) {
    var self = this;

    if(!callback){
        return;
    }


    this._afterInitialization(function(err){
        if (err) {
            return callback(err);
        }

        self._getAllProcesses(function (err, bpmnProcesses) {
            if (err) {
                return callback(err);
            }

            callback(null, bpmnProcesses.map(function (bpmnProcess) {
                return bpmnProcess.processClient;
            }));
        });
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// returns the process with the corresponding id
	bpmn.get(processId, function(err, process){
    ...
	});

	// returns all processes
bpmn.<span class="apidocCodeKeywordSpan">getAllProcesses</span>(function(err, processes){
    ...
});

	// returns all processes having the property names
	bpmn.findByProperty({propName1: propValue1, propName2: propValue2, ...}, function(err, processes){
    ...
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.ProcessManager.prototype.getDefinitionNames" id="apidoc.element.bpmn.ProcessManager.prototype.getDefinitionNames">
        function <span class="apidocSignatureSpan">bpmn.ProcessManager.prototype.</span>getDefinitionNames
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDefinitionNames = function (callback){
    var self = this;

    this._afterInitialization(function(err){
        callback(err, Object.keys(self._processDefinitions));
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {ProcessManager} manager
 * @param {String} name
 * @param {Function} callback
 * @returns {*}
 */
function getNameWithCase(manager, name, callback){

    manager.<span class="apidocCodeKeywordSpan">getDefinitionNames</span>(function(err, names){
if(err){
    return callback(err);
}

var ret = null;

names.forEach(function(nameWithCase){
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.activity" id="apidoc.module.bpmn.activity">module bpmn.activity</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.activity.BPMNActivity" id="apidoc.element.bpmn.activity.BPMNActivity">
        function <span class="apidocSignatureSpan">bpmn.activity.</span>BPMNActivity
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNActivity = function (bpmnId, name, type) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isActivity = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.boundaryEvents" id="apidoc.module.bpmn.boundaryEvents">module bpmn.boundaryEvents</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.boundaryEvents.BPMNBoundaryEvent" id="apidoc.element.bpmn.boundaryEvents.BPMNBoundaryEvent">
        function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>BPMNBoundaryEvent
        <span class="apidocSignatureSpan">(bpmnId, name, type, attachedToRef)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNBoundaryEvent = function (bpmnId, name, type, attachedToRef) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isBoundaryEvent = true;
    this.attachedToRef = attachedToRef;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.boundaryEvents.createBPMNBoundaryEvent" id="apidoc.element.bpmn.boundaryEvents.createBPMNBoundaryEvent">
        function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>createBPMNBoundaryEvent
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNBoundaryEvent = function (node) {
    var getValue = parserUtils.getAttributesValue;
    return (new BPMNBoundaryEvent(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local,
        getValue(node, &#x22;attachedToRef&#x22;)
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else if (sequenceFlows.isSequenceFlowName(localName)) {
    currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
    currentProcessDefinition.addSequenceFlow(currentProcessElement);
} else if (startEvents.isStartEventName(localName)) {
    currentProcessElement = startEvents.createBPMNStartEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isBoundaryEventName(localName)) {
    currentProcessElement = boundaryEvents.<span class="apidocCodeKeywordSpan">createBPMNBoundaryEvent</span>(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isTimerEventName(localName)) {
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.createBPMNEndEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.isGatewayName(localName)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.boundaryEvents.isBoundaryEventName" id="apidoc.element.bpmn.boundaryEvents.isBoundaryEventName">
        function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>isBoundaryEventName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isBoundaryEventName = function (localName) {
    return (localName === &#x22;boundaryEvent&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (sequenceFlows.isSequenceFlowName(localName)) {
    currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
    currentProcessDefinition.addSequenceFlow(currentProcessElement);
} else if (startEvents.isStartEventName(localName)) {
    currentProcessElement = startEvents.createBPMNStartEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.<span class="apidocCodeKeywordSpan">isBoundaryEventName</span>(localName)) {
    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isTimerEventName(localName)) {
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.createBPMNEndEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.boundaryEvents.isTimerEventName" id="apidoc.element.bpmn.boundaryEvents.isTimerEventName">
        function <span class="apidocSignatureSpan">bpmn.boundaryEvents.</span>isTimerEventName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isTimerEventName = function (localName) {
    return (localName === &#x22;timerEventDefinition&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition.addSequenceFlow(currentProcessElement);
} else if (startEvents.isStartEventName(localName)) {
    currentProcessElement = startEvents.createBPMNStartEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isBoundaryEventName(localName)) {
    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.<span class="apidocCodeKeywordSpan">isTimerEventName</span>(localName)) {
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.createBPMNEndEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.isGatewayName(localName)) {
    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.bunyan2winston" id="apidoc.module.bpmn.bunyan2winston">module bpmn.bunyan2winston</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.bunyan2winston.createLogger" id="apidoc.element.bpmn.bunyan2winston.createLogger">
        function <span class="apidocSignatureSpan">bpmn.bunyan2winston.</span>createLogger
        <span class="apidocSignatureSpan">(log)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createLogger = function (log) {
    return bunyan.createLogger({
        name: &#x27;bpmnRESTServer&#x27;,
        streams: [{
            type: &#x27;raw&#x27;,
            level: &#x27;trace&#x27;,
            stream: new Bunyan2Winston(log)
        }]
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

logger = new log.Logger(null, settings);
serverOptions = restifyOptions || {};
serverOptions.name = serverOptions.name || &#x22;BPMNProcessServer&#x22;;

// Shimming the log doesn&#x27;t work as expected: I cannot switch it off for example.
// Additionally, the log format is horrible. So for the time being we use our own logging
// serverOptions.log = serverOptions.log || bunyan2winston.<span class="apidocCodeKeywordSpan">createLogger</span>(logger.winstonLogger
);

server = restify.createServer(serverOptions);

server.use(restify.queryParser({ mapParams: false }));
server.use(restify.bodyParser({ mapParams: false }));
server.on(&#x27;after&#x27;, function( request, response, route, error) {
    var handler = options.onServerAfterEvent || onServerAfterEvent;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.callActivity" id="apidoc.module.bpmn.callActivity">module bpmn.callActivity</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.callActivity.BPMNCallActivity" id="apidoc.element.bpmn.callActivity.BPMNCallActivity">
        function <span class="apidocSignatureSpan">bpmn.callActivity.</span>BPMNCallActivity
        <span class="apidocSignatureSpan">(bpmnId, name, type, calledElementName, calledElementNamespace, location)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNCallActivity = function (bpmnId, name, type, calledElementName, calledElementNamespace, location) {
    BPMNActivity.call(this, bpmnId, name, type);
    this.isCallActivity = true;
    this.calledElementName = calledElementName;
    this.calledElementNamespace = calledElementNamespace;
    this.location = location;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.callActivity.createBPMNCallActivity" id="apidoc.element.bpmn.callActivity.createBPMNCallActivity">
        function <span class="apidocSignatureSpan">bpmn.callActivity.</span>createBPMNCallActivity
        <span class="apidocSignatureSpan">(node, baseFileName, prefix2NamespaceMap, importNamespace2LocationMap)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNCallActivity = function (node, baseFileName, prefix2NamespaceMap, importNamespace2LocationMap) {
    var getValue = parserUtils.getAttributesValue;
    var calledElement = getValue(node, &#x22;calledElement&#x22;);
    var splitName = parserUtils.splitPrefixedName(calledElement);
    var calledElementName = splitName.localName;
    var calledElementNamespace = prefix2NamespaceMap[splitName.prefix];
    var relativeLocation = importNamespace2LocationMap[calledElementNamespace];
    var location = relativeLocation ? path.join(path.dirname(baseFileName), relativeLocation) : &#x22;&#x22;;

    return (new BPMNCallActivity(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local,
        calledElementName,
        calledElementNamespace,
        location
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.createBPMNEndEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.isGatewayName(localName)) {
    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.<span class="apidocCodeKeywordSpan">createBPMNCallActivity</span>(node, fileName, prefix2NamespaceMap
, importNamespace2LocationMap);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.callActivity.isCallActivityName" id="apidoc.element.bpmn.callActivity.isCallActivityName">
        function <span class="apidocSignatureSpan">bpmn.callActivity.</span>isCallActivityName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCallActivityName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;call&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.createBPMNEndEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.isGatewayName(localName)) {
    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.<span class="apidocCodeKeywordSpan">isCallActivityName</span>(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.client" id="apidoc.module.bpmn.client">module bpmn.client</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.client.BPMNProcessClient" id="apidoc.element.bpmn.client.BPMNProcessClient">
        function <span class="apidocSignatureSpan">bpmn.client.</span>BPMNProcessClient
        <span class="apidocSignatureSpan">(bpmnProcess)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNProcessClient = function (bpmnProcess) {
    this._implementation = bpmnProcess;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.collaborationDefinition" id="apidoc.module.bpmn.collaborationDefinition">module bpmn.collaborationDefinition</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.collaborationDefinition.BPMNCollaborationDefinition" id="apidoc.element.bpmn.collaborationDefinition.BPMNCollaborationDefinition">
        function <span class="apidocSignatureSpan">bpmn.collaborationDefinition.</span>BPMNCollaborationDefinition
        <span class="apidocSignatureSpan">(bpmnId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNCollaborationDefinition = function (bpmnId) {
    this.bpmnId = bpmnId;
    this.participants = [];
    this.messageFlows = [];
    this.isCollaborationDefinition = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.collaborationDefinition.createBPMNCollaborationDefinition" id="apidoc.element.bpmn.collaborationDefinition.createBPMNCollaborationDefinition">
        function <span class="apidocSignatureSpan">bpmn.collaborationDefinition.</span>createBPMNCollaborationDefinition
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNCollaborationDefinition = function (node) {
    var getValue = parserUtils.getAttributesValue;
    return (new BPMNCollaborationDefinition(getValue(node, &#x22;id&#x22;)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        if (!debuggerInterface &#x26;&#x26; debug.isDebuggerElement(node) &#x26;&#x26; fileName) {
debuggerInterface = debug.createDebuggerInterface(node, fileName);
        }

        if (inBPMN2Namespace) {

if (collaborationDefinition.isCollaborationDefinitionName(localName)) {
    currentCollaborationDefinition = collaborationDefinition.<span class="apidocCodeKeywordSpan">createBPMNCollaborationDefinition
</span>(node);
    topLevelDefinitions.push(currentCollaborationDefinition);
    currentProcessDefinition = null;
}

if (currentCollaborationDefinition) {
    if (messageFlows.isMessageFlowName(localName)) {
        currentCollaborationElement = messageFlows.createBPMNMessageFlow(node);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.collaborationDefinition.isCollaborationDefinitionName" id="apidoc.element.bpmn.collaborationDefinition.isCollaborationDefinitionName">
        function <span class="apidocSignatureSpan">bpmn.collaborationDefinition.</span>isCollaborationDefinitionName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isCollaborationDefinitionName = function (localName) {
    return (localName === &#x22;collaboration&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

        if (!debuggerInterface &#x26;&#x26; debug.isDebuggerElement(node) &#x26;&#x26; fileName) {
debuggerInterface = debug.createDebuggerInterface(node, fileName);
        }

        if (inBPMN2Namespace) {

if (collaborationDefinition.<span class="apidocCodeKeywordSpan">isCollaborationDefinitionName</span>(localName)) {
    currentCollaborationDefinition = collaborationDefinition.createBPMNCollaborationDefinition(node);
    topLevelDefinitions.push(currentCollaborationDefinition);
    currentProcessDefinition = null;
}

if (currentCollaborationDefinition) {
    if (messageFlows.isMessageFlowName(localName)) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.debugger" id="apidoc.module.bpmn.debugger">module bpmn.debugger</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.debugger.DebuggerInterface" id="apidoc.element.bpmn.debugger.DebuggerInterface">
        function <span class="apidocSignatureSpan">bpmn.debugger.</span>DebuggerInterface
        <span class="apidocSignatureSpan">(url, fileName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DebuggerInterface = function (url, fileName) {
    this.fileName = fileName;
    this.url = urls.parse(url);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.debugger.createDebuggerInterface" id="apidoc.element.bpmn.debugger.createDebuggerInterface">
        function <span class="apidocSignatureSpan">bpmn.debugger.</span>createDebuggerInterface
        <span class="apidocSignatureSpan">(node, fileName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createDebuggerInterface = function (node, fileName) {
    return (new DebuggerInterface(parserUtils.getAttributesValue(node, &#x22;href&#x22;), fileName));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    parser.onopentag = function (node) {
        var localName = node.local;
        var inBPMN2Namespace = node.uri === BPMN2NAMESPACE;

        addNamespaces(prefix2NamespaceMap, node);

        if (!debuggerInterface &#x26;&#x26; debug.isDebuggerElement(node) &#x26;&#x26; fileName) {
debuggerInterface = debug.<span class="apidocCodeKeywordSpan">createDebuggerInterface</span>(node, fileName);
        }

        if (inBPMN2Namespace) {

if (collaborationDefinition.isCollaborationDefinitionName(localName)) {
    currentCollaborationDefinition = collaborationDefinition.createBPMNCollaborationDefinition(node);
    topLevelDefinitions.push(currentCollaborationDefinition);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.debugger.isDebuggerElement" id="apidoc.element.bpmn.debugger.isDebuggerElement">
        function <span class="apidocSignatureSpan">bpmn.debugger.</span>isDebuggerElement
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDebuggerElement = function (node) {
    return (node.uri === &#x27;http://e2e.ch/bpmneditor/debugger&#x27; &#x26;&#x26; node.local === &#x27;position&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    parser.onopentag = function (node) {
        var localName = node.local;
        var inBPMN2Namespace = node.uri === BPMN2NAMESPACE;

        addNamespaces(prefix2NamespaceMap, node);

        if (!debuggerInterface &#x26;&#x26; debug.<span class="apidocCodeKeywordSpan">isDebuggerElement</span>(node) &#x26;&#x26
; fileName) {
debuggerInterface = debug.createDebuggerInterface(node, fileName);
        }

        if (inBPMN2Namespace) {

if (collaborationDefinition.isCollaborationDefinitionName(localName)) {
    currentCollaborationDefinition = collaborationDefinition.createBPMNCollaborationDefinition(node);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.definitions" id="apidoc.module.bpmn.definitions">module bpmn.definitions</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.definitions.clearCache" id="apidoc.element.bpmn.definitions.clearCache">
        function <span class="apidocSignatureSpan">bpmn.definitions.</span>clearCache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearCache = function () {
    bpmnDefinitionsCache = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var ProcessManager = require(&#x27;./manager&#x27;).ProcessManager;

module.exports = exports = new ProcessManager();

exports.ProcessManager = ProcessManager;

exports.clearCache = function() {
   definitions.<span class="apidocCodeKeywordSpan">clearCache</span>();
};

exports.logLevels = logger.logLevels;

/**
* A BPMN process is created.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.definitions.getBPMNCollaborationDefinitions" id="apidoc.element.bpmn.definitions.getBPMNCollaborationDefinitions">
        function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNCollaborationDefinitions
        <span class="apidocSignatureSpan">(bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBPMNCollaborationDefinitions = function (bpmnFilePath) {
    var bpmnDefinitions = getCachedBPMNDefinitions(bpmnFilePath);
    return getCollaborationDefinitions(bpmnDefinitions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

test.done();
};

exports.testGetAllBPMNCollaborationDefinitions = function(test) {
var fileName = path.join(__dirname, &#x22;../../resources/bpmn/pool.bpmn&#x22;);
bpmnDefinitions.clearCache();
var collaborationDefinitions = bpmnDefinitions.<span class="apidocCodeKeywordSpan">getBPMNCollaborationDefinitions</span>(fileName
);

test.deepEqual(collaborationDefinitions,
    [
        {
            &#x22;bpmnId&#x22;: &#x22;COLLABORATION_1&#x22;,
            &#x22;participants&#x22;: [
                {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.definitions.getBPMNDefinitions" id="apidoc.element.bpmn.definitions.getBPMNDefinitions">
        function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNDefinitions
        <span class="apidocSignatureSpan">(bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getBPMNDefinitions(bpmnFilePath) {
    var errorQueue = errors.createBPMNParseErrorQueue();
    var bpmnDefinitions, bpmnXML;

    try {
        bpmnXML = fs.readFileSync(bpmnFilePath, &#x22;utf8&#x22;);
        bpmnDefinitions = parser.parse(bpmnXML, errorQueue, utils.toUpperCamelCase(fileUtils.removeFileExtension(path.basename(bpmnFilePath
))), bpmnFilePath);
    } catch (e) {
        errorQueue.addError(&#x22;DF1&#x22;, null, &#x22;Could not parse the BPMN file &#x27;&#x22; + bpmnFilePath + &#x22;&#x27;. Error: &#x27;&#x22; + e + &#x22;&#x27;&#x22;);
    }

    errorQueue.check();

    setCollaborationDefinitions(bpmnDefinitions);

    return bpmnDefinitions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.definitions.getBPMNDefinitionsFromXML" id="apidoc.element.bpmn.definitions.getBPMNDefinitionsFromXML">
        function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNDefinitionsFromXML
        <span class="apidocSignatureSpan">(bpmnXML, mainProcessName, bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getBPMNDefinitionsFromXML(bpmnXML, mainProcessName, bpmnFilePath) {
    var errorQueue = errors.createBPMNParseErrorQueue();
    var bpmnDefinitions;

    try {
        bpmnDefinitions = parser.parse(bpmnXML, errorQueue, mainProcessName, bpmnFilePath);
    } catch (e) {
        errorQueue.addError(&#x22;DF1&#x22;, null, &#x22;Could not parse the BPMN XML string&#x27;. Error: &#x27;&#x22; + e + &#x22;&#x27;&#x22;);
    }

    errorQueue.check();

    setCollaborationDefinitions(bpmnDefinitions);

    return bpmnDefinitions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    var self = this;
    var processDefinitions;

    if(typeof processHandler === &#x27;string&#x27;){
processHandler = handlers.getHandlerFromString(processHandler);
    }

    processDefinitions = definitions.<span class="apidocCodeKeywordSpan">getBPMNDefinitionsFromXML</span>(bpmnXml, processName);

    processDefinitions.forEach(function(processDefinition){

if(processHandler) {
    self._processHandlers[processDefinition.name] = processHandler;
} else if(!self._processHandlers[processDefinition.name]){
    throw new Error(&#x27;No process handler defined for process &#x22;&#x27;+processDefinition.name+&#x27;&#x22;. The process handler
 must be defined before the process or with the process.&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.definitions.getBPMNProcessDefinition" id="apidoc.element.bpmn.definitions.getBPMNProcessDefinition">
        function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNProcessDefinition
        <span class="apidocSignatureSpan">(bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBPMNProcessDefinition = function (bpmnFilePath) {
    var processDefinition;
    var processDefinitions = getBPMNProcessDefinitions(bpmnFilePath);

    if (processDefinitions.length === 1) {
        processDefinition = processDefinitions[0];
    } else {
        throw new Error(&#x22;The BPMN file &#x27;&#x22; + bpmnFilePath + &#x22;&#x27;. contains more than one process definition. Use &#x27;getBPMNProcessDefinitions
&#x27; instead of &#x27;getBPMNProcessDefinition&#x27;&#x22;);
    }
    return processDefinition;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if(typeof calledProcessDefinition === &#x27;function&#x27;){
    callback = calledProcessDefinition;
    calledProcessDefinition = null;
}

var handler = this.getHandler(currentProcess);
var processDefinition = calledProcessDefinition || bpmnDefinitions.<span class="apidocCodeKeywordSpan">getBPMNProcessDefinition</
span>(this.location);
var callActivityHistoryEntry = currentProcess.getHistory().getLastEntry(callActivityToken.position);

createBPMNProcess(
    callActivityToken.calledProcessId,
    processDefinition,
    handler,
    currentProcess.persistency,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.definitions.getBPMNProcessDefinitions" id="apidoc.element.bpmn.definitions.getBPMNProcessDefinitions">
        function <span class="apidocSignatureSpan">bpmn.definitions.</span>getBPMNProcessDefinitions
        <span class="apidocSignatureSpan">(bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getBPMNProcessDefinitions = function (bpmnFilePath) {
    var bpmnDefinitions = getCachedBPMNDefinitions(bpmnFilePath);
    return getProcessDefinitions(bpmnDefinitions);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
try{
    processHandler = handlers.getHandlerFromFile(bpmnFilePath);
    processHandler.doneLoadingHandler = self._doneLoadingHandler;
    processHandler.doneSavingHandler = self._doneSavingHandler;
}catch(err){}
    }

    processDefinitions = definitions.<span class="apidocCodeKeywordSpan">getBPMNProcessDefinitions</span>(bpmnFilePath);

    processDefinitions.forEach(function(processDefinition){

if(processHandler) {
    self._processHandlers[processDefinition.name] = processHandler;
} else if(!self._processHandlers[processDefinition.name]){
    throw new Error(&#x27;No process handler defined for process &#x22;&#x27;+processDefinition.name+&#x27;&#x22;. The process handler
 must be defined before the process or with the process.&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.definitions.getCachedBPMNDefinitions" id="apidoc.element.bpmn.definitions.getCachedBPMNDefinitions">
        function <span class="apidocSignatureSpan">bpmn.definitions.</span>getCachedBPMNDefinitions
        <span class="apidocSignatureSpan">(bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getCachedBPMNDefinitions(bpmnFilePath) {
    var bpmnDefinitions = bpmnDefinitionsCache[bpmnFilePath];

    if (!bpmnDefinitions) {
        bpmnDefinitions = getBPMNDefinitions(bpmnFilePath);
        bpmnDefinitionsCache[bpmnFilePath] = bpmnDefinitions;
    }

    return bpmnDefinitions;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {String} bpmnFilePath
 * @param {Boolean=} cache If true, the definitions are cached.
 * @return {Array.&#x3c;BPMNProcessDefinition|BPMNCollaborationDefinition&#x3e;}
 */
exports.getBPMNDefinitions = function(bpmnFilePath, cache) {
    var bpmnDefinitions = null;
    if (cache) {
        bpmnDefinitions = definitions.<span class="apidocCodeKeywordSpan">getCachedBPMNDefinitions</span>(bpmnFilePath);
    } else {
        bpmnDefinitions = definitions.getBPMNDefinitions(bpmnFilePath);
    }
    return bpmnDefinitions;
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.endEvents" id="apidoc.module.bpmn.endEvents">module bpmn.endEvents</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.endEvents.BPMNEndEvent" id="apidoc.element.bpmn.endEvents.BPMNEndEvent">
        function <span class="apidocSignatureSpan">bpmn.endEvents.</span>BPMNEndEvent
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNEndEvent = function (bpmnId, name, type) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isEndEvent = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.endEvents.createBPMNEndEvent" id="apidoc.element.bpmn.endEvents.createBPMNEndEvent">
        function <span class="apidocSignatureSpan">bpmn.endEvents.</span>createBPMNEndEvent
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNEndEvent = function (node) {
    var getValue = parserUtils.getAttributesValue;
    return (new BPMNEndEvent(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isBoundaryEventName(localName)) {
    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isTimerEventName(localName)) {
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.<span class="apidocCodeKeywordSpan">createBPMNEndEvent</span>(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.isGatewayName(localName)) {
    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.endEvents.isEndEventName" id="apidoc.element.bpmn.endEvents.isEndEventName">
        function <span class="apidocSignatureSpan">bpmn.endEvents.</span>isEndEventName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEndEventName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;end&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * @param {String} flowObjectName
 */
BPMNProcessHistory.prototype.setEnd = function(flowObjectName) {
var historyEntry = this.getLastEntry(flowObjectName);
historyEntry.setEnd();
if (endEvents.<span class="apidocCodeKeywordSpan">isEndEventName</span>(historyEntry.type)) {
    this.finishedAt = historyEntry.end;
}
};

BPMNProcessHistory.prototype.isFinished = function() {
if(this.historyEntries.length){
    return endEvents.isEndEventName(this.historyEntries[this.historyEntries.length - 1].type)
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.errors" id="apidoc.module.bpmn.errors">module bpmn.errors</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.errors.createBPMNParseErrorQueue" id="apidoc.element.bpmn.errors.createBPMNParseErrorQueue">
        function <span class="apidocSignatureSpan">bpmn.errors.</span>createBPMNParseErrorQueue
        <span class="apidocSignatureSpan">(fileName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNParseErrorQueue = function (fileName) {
    return (new BPMNParseErrorQueue(fileName));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 *
 * @param bpmnDefinitions
 */
function setCollaborationDefinitions(bpmnDefinitions){
    var collaborationDefinitions = getCollaborationDefinitions(bpmnDefinitions);
    var processDefinitions = getProcessDefinitions(bpmnDefinitions);
    var errorQueue = errors.<span class="apidocCodeKeywordSpan">createBPMNParseErrorQueue</span>();
    processDefinitions.forEach(function(processDefinition) {
        processDefinition.validate(errorQueue);
        errorQueue.check();
        processDefinition.attachCollaborationDefinitions(collaborationDefinitions);
    });
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.events" id="apidoc.module.bpmn.events">module bpmn.events</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.events.isMessageEventName" id="apidoc.element.bpmn.events.isMessageEventName">
        function <span class="apidocSignatureSpan">bpmn.events.</span>isMessageEventName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isMessageEventName = function (localName) {
    return (localName === &#x22;messageEventDefinition&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (events.<span class="apidocCodeKeywordSpan">isMessageEventName</span>(localName)) {
    currentProcessElement.isMessageEvent = true;
} else if (subProcess.isSubProcessName(localName)) {
    subProcessDefinition = processDefinition.createBPMNProcessDefinition(node, errorQueue);
    currentProcessElement = subProcess.createBPMNSubProcess(node, subProcessDefinition);
    currentProcessDefinition.addFlowObject(currentProcessElement);
    processStack.push(currentProcessDefinition);
    currentProcessDefinition = subProcessDefinition;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.file" id="apidoc.module.bpmn.file">module bpmn.file</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.file.Persistency" id="apidoc.element.bpmn.file.Persistency">
        function <span class="apidocSignatureSpan">bpmn.file.</span>Persistency
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Persistency = function (path) {
    this.path = path;
    this.db = new JaguarDb();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.find" id="apidoc.module.bpmn.find">module bpmn.find</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.find.findByName" id="apidoc.element.bpmn.find.findByName">
        function <span class="apidocSignatureSpan">bpmn.find.</span>findByName
        <span class="apidocSignatureSpan">(bpmnProcesses, processName, caseSensitive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findByName = function (bpmnProcesses, processName, caseSensitive) {
    var foundProcesses = [];

    if (processName) {
        var compare = function(a, b) {
            var result;
            if (caseSensitive === undefined || caseSensitive) {
                result = (a === b);
            } else {
                result = (a.toLowerCase() === b.toLowerCase());
            }
            return result;
        };

        bpmnProcesses.forEach(function(bpmnProcess) {
            var name = bpmnProcess.getProcessDefinition().name;
            if (compare(name, processName)) {
                foundProcesses.push(bpmnProcess.processClient || bpmnProcess);
            }
        });
    }
    return foundProcesses;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// returns all processes in this state (callActivity, tasks, event, ...)
	bpmn.findByState(stateName, function(err, processes){
        ...
    });

	// returns all processes using this definition
	bpmn.<span class="apidocCodeKeywordSpan">findByName</span>(definitionName, function(err, processes){
        ...
    });


Persistency
-----------
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.find.findByProperty" id="apidoc.element.bpmn.find.findByProperty">
        function <span class="apidocSignatureSpan">bpmn.find.</span>findByProperty
        <span class="apidocSignatureSpan">(bpmnProcesses, query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findByProperty = function (bpmnProcesses, query) {
    var foundProcesses = [];
    var findAll = !query;

    bpmnProcesses.forEach(function(bpmnProcess) {
        if (findAll || hasMatchingProperties(bpmnProcess.getProperties(), query)) {
            foundProcesses.push(bpmnProcess.processClient || bpmnProcess);
        }
    });
    return foundProcesses;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// returns all processes
bpmn.getAllProcesses(function(err, processes){
    ...
});

	// returns all processes having the property names
	bpmn.<span class="apidocCodeKeywordSpan">findByProperty</span>({propName1: propValue1, propName2: propValue2, ...}, function(err
, processes){
    ...
});

	// returns all processes in this state (callActivity, tasks, event, ...)
	bpmn.findByState(stateName, function(err, processes){
    ...
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.find.findByState" id="apidoc.element.bpmn.find.findByState">
        function <span class="apidocSignatureSpan">bpmn.find.</span>findByState
        <span class="apidocSignatureSpan">(bpmnProcesses, stateName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findByState = function (bpmnProcesses, stateName) {
    var foundProcesses = [];
    var findAll = !stateName;

    bpmnProcesses.forEach(function(bpmnProcess) {
        if (findAll || bpmnProcess.getState().hasTokens(stateName)) {
            foundProcesses.push(bpmnProcess.processClient || bpmnProcess);
        }
    });
    return foundProcesses;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

	// returns all processes having the property names
	bpmn.findByProperty({propName1: propValue1, propName2: propValue2, ...}, function(err, processes){
    ...
});

	// returns all processes in this state (callActivity, tasks, event, ...)
	bpmn.<span class="apidocCodeKeywordSpan">findByState</span>(stateName, function(err, processes){
    ...
});

	// returns all processes using this definition
	bpmn.findByName(definitionName, function(err, processes){
    ...
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.flowObject" id="apidoc.module.bpmn.flowObject">module bpmn.flowObject</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.flowObject.BPMNFlowObject" id="apidoc.element.bpmn.flowObject.BPMNFlowObject">
        function <span class="apidocSignatureSpan">bpmn.flowObject.</span>BPMNFlowObject
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNFlowObject = function (bpmnId, name, type) {
    this.bpmnId = bpmnId;
    this.name = name;
    this.type = type;
    this.isFlowObject = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.gateways" id="apidoc.module.bpmn.gateways">module bpmn.gateways</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.gateways.BPMNExclusiveGateway" id="apidoc.element.bpmn.gateways.BPMNExclusiveGateway">
        function <span class="apidocSignatureSpan">bpmn.gateways.</span>BPMNExclusiveGateway
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNExclusiveGateway = function (bpmnId, name, type) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isExclusiveGateway = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.gateways.BPMNParallelGateway" id="apidoc.element.bpmn.gateways.BPMNParallelGateway">
        function <span class="apidocSignatureSpan">bpmn.gateways.</span>BPMNParallelGateway
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNParallelGateway = function (bpmnId, name, type) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isParallelGateway = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.gateways.createBPMNGateway" id="apidoc.element.bpmn.gateways.createBPMNGateway">
        function <span class="apidocSignatureSpan">bpmn.gateways.</span>createBPMNGateway
        <span class="apidocSignatureSpan">(node, errorQueue)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNGateway = function (node, errorQueue) {
    var getAttributeValue = parserUtils.getAttributesValue;
    var gateway = null;
    var localName = node.local;
    var name = getAttributeValue(node, &#x22;name&#x22;);
    var id = getAttributeValue(node, &#x22;id&#x22;);

    if (isExclusiveGatewayName(localName)) {
        gateway = new BPMNExclusiveGateway(id, name, node.local);
    } else if (isParallelGatewayName(localName)) {
        gateway = new BPMNParallelGateway(id, name, node.local);
    } else {
        errorQueue.addError(&#x22;UnsupportedGateway&#x22;, {bpmnId: id, name: name, type: node.local}, &#x22;The gateway &#x27;&#x22; + name + &#x22;&#x27; is not
 supported yet.&#x22;);
    }
    return gateway;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isTimerEventName(localName)) {
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.createBPMNEndEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.isGatewayName(localName)) {
    currentProcessElement = gateways.<span class="apidocCodeKeywordSpan">createBPMNGateway</span>(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.gateways.isGatewayName" id="apidoc.element.bpmn.gateways.isGatewayName">
        function <span class="apidocSignatureSpan">bpmn.gateways.</span>isGatewayName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isGatewayName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;gateway&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isTimerEventName(localName)) {
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
    currentProcessElement = endEvents.createBPMNEndEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.<span class="apidocCodeKeywordSpan">isGatewayName</span>(localName)) {
    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.handler" id="apidoc.module.bpmn.handler">module bpmn.handler</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.handler.callHandler" id="apidoc.element.bpmn.handler.callHandler">
        function <span class="apidocSignatureSpan">bpmn.handler.</span>callHandler
        <span class="apidocSignatureSpan">(name, process, data, handlerDoneCallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">callHandler = function (name, process, data, handlerDoneCallback) {
    var result, handlerType;
    var done = handlerDoneCallback || function() {};
    var eventType = &#x22;callHandler&#x22;;
    var handler = getHandlerFromProcess(name, process);

    if (handler) {
        handlerType = typeof handler;
        if (handlerType === &#x27;function&#x27;) {
            try {
                result = handler.call(process.processClient, data, done);
            } catch (error) {
                process.logger.error(&#x22;Error in handler &#x27;&#x22; + name + &#x22;&#x27;: &#x22; + error.toString());
                process.defaultErrorHandler.call(process.processClient, error, done);
            }
        } else if (handlerType === &#x27;object&#x27;) {
            // hierarchical handler used for mocking up sub process handlers. See test cases for examples
            // To keep going we have to call done()
            done();
        } else {
            process.callDefaultEventHandler(eventType, name, mapName2HandlerName(name),
                                            &#x22;Unknown handler type: &#x27;&#x22; + handlerType + &#x22;&#x27;&#x22;, done);
        }
     } else {
        process.callDefaultEventHandler(eventType, name, mapName2HandlerName(name), &#x22;No handler found&#x22;, done);
    }

    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            trx.processStateEnd(self.processDefinition.name, self.getProcessId(), activityName);
            trx.end();
        }
        self.logger.trace(&#x22;Calling done() of &#x27;&#x22; + handlerName + &#x22;&#x27;.&#x22;);
        currentProcess._emitTokens(currentFlowObject, data, true);
    };
    self.logger.trace(&#x22;Calling &#x27;&#x22; + handlerName + &#x22;&#x27; for &#x22; + ACTIVITY_END_EVENT + &#x22; &#x27;&#x22
; + activityName + &#x22;&#x27;.&#x22;);
    handler.<span class="apidocCodeKeywordSpan">callHandler</span>(handlerName, currentProcess, data, activityEndHandlerIsDone);
} else {
    self.callDefaultEventHandler(ACTIVITY_END_EVENT, activityName, handlerName,
        &#x22;Process cannot handle this activity because it is not currently executed.&#x22;,
        function(){
            if(trx){
                trx.end();
            }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.handler.getHandlerFileName" id="apidoc.element.bpmn.handler.getHandlerFileName">
        function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFileName
        <span class="apidocSignatureSpan">(bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHandlerFileName = function (bpmnFilePath) {
    return (fileUtils.removeFileExtension(bpmnFilePath) + &#x22;.js&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.handler.getHandlerFromFile" id="apidoc.element.bpmn.handler.getHandlerFromFile">
        function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFromFile
        <span class="apidocSignatureSpan">(bpmnFilePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHandlerFromFile = function (bpmnFilePath) {
    var handlerFilePath = getHandlerFileName(bpmnFilePath);
    return require(handlerFilePath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Change the process handler using a file.
*
* @param {String} name Name of the process
* @param {String} handlerFilePath
*/
ProcessManager.prototype.addHandlerFilePath = function(name, handlerFilePath){
   this._processHandlers[name] = handlers.<span class="apidocCodeKeywordSpan">getHandlerFromFile</span>(handlerFilePath);
   this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;
   this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;
};

/**
* Change the process handler using a string.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.handler.getHandlerFromProcess" id="apidoc.element.bpmn.handler.getHandlerFromProcess">
        function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFromProcess
        <span class="apidocSignatureSpan">(name, process)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHandlerFromProcess = function (name, process) {
    var handlerName = mapName2HandlerName(name);
    var handler = process.eventHandler[handlerName]; // this works as long as event names are unique
    return handler;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * @param {BPMNProcess} currentProcess
 * @return {Function | Object}
 */
BPMNCallActivity.prototype.getHandler = function(currentProcess) {
var handler, bpmnFilePath;
var callActivityName = this.name;
var mockupHandler = handlerModule.<span class="apidocCodeKeywordSpan">getHandlerFromProcess</span>(callActivityName, currentProcess
);

if (mockupHandler &#x26;&#x26; typeof mockupHandler === &#x22;object&#x22;) {
    handler = mockupHandler;
} else {
    bpmnFilePath = this.location;
    handler = handlerModule.getHandlerFromFile(bpmnFilePath);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.handler.getHandlerFromString" id="apidoc.element.bpmn.handler.getHandlerFromString">
        function <span class="apidocSignatureSpan">bpmn.handler.</span>getHandlerFromString
        <span class="apidocSignatureSpan">(moduleString)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getHandlerFromString = function (moduleString) {
    var Module = require(&#x27;module&#x27;).Module;
    var handlerModule = new Module();
    handlerModule._compile(stripBOM(moduleString));
    return handlerModule.exports;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
* Change the process handler using a string.
*
* @param {String} name Name of the process
* @param {String} handlerString
*/
ProcessManager.prototype.addHandlerString = function(name, handlerString){
   this._processHandlers[name] = handlers.<span class="apidocCodeKeywordSpan">getHandlerFromString</span>(handlerString);
   this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;
   this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;
};

/**
* Change the process handler using an object.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.handler.mapName2HandlerName" id="apidoc.element.bpmn.handler.mapName2HandlerName">
        function <span class="apidocSignatureSpan">bpmn.handler.</span>mapName2HandlerName
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mapName2HandlerName = function (name) {
    var cleanName = name.replace(/[:!`~\^@*#¢¬ç?¦\|&#x26;;%@&#x22;&#x3c;&#x3e;\(\){}\[\]\+, \t\n]/g, &#x22;_&#x22;);

    if (cleanName.match(/^[0-9]/)) {
        cleanName = &#x22;_&#x22; + cleanName;
    }
    return cleanName;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @private
 */
BPMNProcess.prototype._registerActivityEndEvents = function() {
    var self = this;

    self.on(ACTIVITY_END_EVENT, function(activityName, data) {
var currentToken, owningProcessId, currentProcess, currentFlowObject, activityEndHandlerIsDone;
var handlerName = handler.<span class="apidocCodeKeywordSpan">mapName2HandlerName</span>(activityName) + activityEndHandlerPostfix
;
var trx = self.currentTrx = null;

if(self.transactionLogger){
    trx = self.currentTrx = self.transactionLogger.startTransaction(self.processDefinition.name, &#x27;PSTATE&#x27;, &#x27;TRANSITION
&#x27;, null, activityName+&#x27;Done&#x27;);
}

if (self.state.hasTokens(activityName)) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.history" id="apidoc.module.bpmn.history">module bpmn.history</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.history.BPMNProcessHistory" id="apidoc.element.bpmn.history.BPMNProcessHistory">
        function <span class="apidocSignatureSpan">bpmn.history.</span>BPMNProcessHistory
        <span class="apidocSignatureSpan">(history)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNProcessHistory = function (history) {
    /** @type {Array.&#x3c;HistoryEntry&#x3e;} */
    this.historyEntries = [];

    if (history) {
        this.historyEntries = history.historyEntries.map(function(historyEntry) {
            var entry = new HistoryEntry(historyEntry.name, historyEntry.type, historyEntry.begin, historyEntry.end);
            if (historyEntry.subhistory) {
                entry.subhistory = new BPMNProcessHistory(historyEntry.subhistory);
            }
            return entry;
        });
        this.createdAt = history.createdAt;
        this.finishedAt = history.finishedAt || null;
    } else {
        this.createdAt = getTimestamp();
        this.finishedAt = null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.history.HistoryEntry" id="apidoc.element.bpmn.history.HistoryEntry">
        function <span class="apidocSignatureSpan">bpmn.history.</span>HistoryEntry
        <span class="apidocSignatureSpan">(name, type, begin, end)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HistoryEntry = function (name, type, begin, end) {
    this.name = name;
    this.type = type;
    this.begin = begin || getTimestamp();
    this.end = end || null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.history.setDummyTimestampFunction" id="apidoc.element.bpmn.history.setDummyTimestampFunction">
        function <span class="apidocSignatureSpan">bpmn.history.</span>setDummyTimestampFunction
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setDummyTimestampFunction = function () {
    getTimestamp = function () { return &#x22;_dummy_ts_&#x22;; };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Copyright: E2E Technologies Ltd
 */
&#x22;use strict&#x22;;

var path = require(&#x27;path&#x27;);
var bpmn = require(&#x27;../../lib/public.js&#x27;);

require(&#x22;../../lib/history.js&#x22;).<span class="apidocCodeKeywordSpan">setDummyTimestampFunction</span>();

var mongodb = require(&#x27;mongodb&#x27;);
var persistencyUri = &#x27;mongodb://127.0.0.1:27017/ut_flatprocess&#x27;;
var bpmnFileName = path.join(__dirname, &#x22;../resources/projects/simple/taskExampleProcess.bpmn&#x22;);

var bpmnProcess1, bpmnProcess2;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.history.setTimestampFunction" id="apidoc.element.bpmn.history.setTimestampFunction">
        function <span class="apidocSignatureSpan">bpmn.history.</span>setTimestampFunction
        <span class="apidocSignatureSpan">(getTimestampFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTimestampFunction = function (getTimestampFunction) {
    getTimestamp = getTimestampFunction;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.intermediateEvents" id="apidoc.module.bpmn.intermediateEvents">module bpmn.intermediateEvents</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.intermediateEvents.BPMNIntermediateCatchEvent" id="apidoc.element.bpmn.intermediateEvents.BPMNIntermediateCatchEvent">
        function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>BPMNIntermediateCatchEvent
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNIntermediateCatchEvent = function (bpmnId, name, type) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isIntermediateCatchEvent = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.intermediateEvents.BPMNIntermediateThrowEvent" id="apidoc.element.bpmn.intermediateEvents.BPMNIntermediateThrowEvent">
        function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>BPMNIntermediateThrowEvent
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNIntermediateThrowEvent = function (bpmnId, name, type) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isIntermediateThrowEvent = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.intermediateEvents.createBPMNIntermediateCatchEvent" id="apidoc.element.bpmn.intermediateEvents.createBPMNIntermediateCatchEvent">
        function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>createBPMNIntermediateCatchEvent
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNIntermediateCatchEvent = function (node) {
    var getValue = parserUtils.getAttributesValue;
    return (new BPMNIntermediateCatchEvent(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
    currentProcessElement = intermediateEvents.<span class="apidocCodeKeywordSpan">createBPMNIntermediateCatchEvent</span>(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (events.isMessageEventName(localName)) {
    currentProcessElement.isMessageEvent = true;
} else if (subProcess.isSubProcessName(localName)) {
    subProcessDefinition = processDefinition.createBPMNProcessDefinition(node, errorQueue);
    currentProcessElement = subProcess.createBPMNSubProcess(node, subProcessDefinition);
    currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.intermediateEvents.createBPMNIntermediateThrowEvent" id="apidoc.element.bpmn.intermediateEvents.createBPMNIntermediateThrowEvent">
        function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>createBPMNIntermediateThrowEvent
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNIntermediateThrowEvent = function (node) {
    var getValue = parserUtils.getAttributesValue;
    return (new BPMNIntermediateThrowEvent(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else if (gateways.isGatewayName(localName)) {
    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.<span class="apidocCodeKeywordSpan">createBPMNIntermediateThrowEvent</span>(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (events.isMessageEventName(localName)) {
    currentProcessElement.isMessageEvent = true;
} else if (subProcess.isSubProcessName(localName)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.intermediateEvents.isIntermediateCatchEventName" id="apidoc.element.bpmn.intermediateEvents.isIntermediateCatchEventName">
        function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>isIntermediateCatchEventName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isIntermediateCatchEventName = function (localName) {
    return (localName === &#x22;intermediateCatchEvent&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateThrowEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.<span class="apidocCodeKeywordSpan">isIntermediateCatchEventName</span>(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (events.isMessageEventName(localName)) {
    currentProcessElement.isMessageEvent = true;
} else if (subProcess.isSubProcessName(localName)) {
    subProcessDefinition = processDefinition.createBPMNProcessDefinition(node, errorQueue);
    currentProcessElement = subProcess.createBPMNSubProcess(node, subProcessDefinition);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.intermediateEvents.isIntermediateThrowEventName" id="apidoc.element.bpmn.intermediateEvents.isIntermediateThrowEventName">
        function <span class="apidocSignatureSpan">bpmn.intermediateEvents.</span>isIntermediateThrowEventName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isIntermediateThrowEventName = function (localName) {
    return (localName === &#x22;intermediateThrowEvent&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (gateways.isGatewayName(localName)) {
    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (callActivity.isCallActivityName(localName)) {
    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap
);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.<span class="apidocCodeKeywordSpan">isIntermediateThrowEventName</span>(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
    currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (events.isMessageEventName(localName)) {
    currentProcessElement.isMessageEvent = true;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.logger" id="apidoc.module.bpmn.logger">module bpmn.logger</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.logger.Logger" id="apidoc.element.bpmn.logger.Logger">
        function <span class="apidocSignatureSpan">bpmn.logger.</span>Logger
        <span class="apidocSignatureSpan">(process, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Logger = function (process, options) {
    this.logLevel = logLevels.error;
    if (options) {
        this.logLevel = getLogLevelValue(options.logLevel || this.logLevel);
    }

    /** {function(string)} */
    this.logAppender = null; // used for example to test log messages

    this.winstonFileTransport = new (winston.transports.File)({
        //level: getLogLevelString(this.logLevel), //TODO: this should work, but it doesn&#x27;t. Why?
        level: &#x27;verbose&#x27;,
        filename: &#x27;./process.log&#x27;,
        maxsize: 64 * 1024 * 1024,
        maxFiles: 100,
        timestamp: function() {
            return Date.now();
        }
    });
    this.winstonConsoleTransport = new (winston.transports.Console)({
        //level: getLogLevelString(this.logLevel), //TODO: this should work, but it doesn&#x27;t. Why?
        level: &#x27;verbose&#x27;,
        colorize: true,
        json: false
    });
    this.winstonLogger = new (winston.Logger)({
        transports: [this.winstonFileTransport, this.winstonConsoleTransport],
        levels: logLevels,
        colors: logLevelColors
    });

    this.setProcess(process);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.persistency = persistency;
this.deferredEvents = [];
this.deferEvents = false; // events must be deferred if the process engine is loading or saving state
this.processClient = new BPMNProcessClient(this);
this.participants = {}; // if the process takes part in a collaboration, we store all participant process in this map
this.properties = {}; // TODO: how do we handle parent data?
this.calledProcesses = {};
this.logger = new log.<span class="apidocCodeKeywordSpan">Logger</span>(this, {logLevel: log.logLevels.error});
if(transactionLog) {
    this.transactionLogger = new transactionLog.TransactionLogger();
}
this.currentTrx = null;
this.views = {
    startEvent : null,
    endEvent : null,
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.manager" id="apidoc.module.bpmn.manager">module bpmn.manager</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.manager.ProcessManager" id="apidoc.element.bpmn.manager.ProcessManager">
        function <span class="apidocSignatureSpan">bpmn.manager.</span>ProcessManager
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ProcessManager = function (options){
    var self = this;

    options = options || {};

    self._processCache = {};

    self._initialized = true;
    self._initialising = false;
    self._initializationError = null;
    self._definitionsToInitialize = [];
    self._initialiseCallbacks = [];

    self._persistency = null;
    if (options.persistencyOptions) {
        self._persistency =  new Persistency(options.persistencyOptions);
        self._doneLoadingHandler = options.persistencyOptions.doneLoading;
        self._doneSavingHandler = options.persistencyOptions.doneSaving;
    }

    self._processHandlers = {};
    self._processDefinitions = {};


    if(!options.handlerFilePath){
        options.handlerFilePath = [];
    }

    if(!util.isArray(options.handlerFilePath)){
        options.handlerFilePath = [options.handlerFilePath];
    }

    options.handlerFilePath.forEach(function(handlerDescriptor){
        if(!handlerDescriptor.name || !handlerDescriptor.filePath){
            throw new Error(&#x22;handlerFilePath needs a name and a filePath&#x22;);
        }

        self.addHandlerFilePath(handlerDescriptor.name, handlerDescriptor.filePath);
    });


    if(!options.handler){
        options.handler = [];
    }

    if(!util.isArray(options.handler)){
        options.handler = [options.handler];
    }

    options.handler.forEach(function(handlerDescriptor){
        if(!handlerDescriptor.name || !handlerDescriptor.module){
            throw new Error(&#x22;handler needs a name and a module&#x22;);
        }

        self.addHandler(handlerDescriptor.name, handlerDescriptor.module);
    });

    if(!options.handlerString){
        options.handlerString = [];
    }

    if(!util.isArray(options.handlerString)){
        options.handlerString = [options.handlerString];
    }

    options.handlerString.forEach(function(handlerString){
        if(!handlerString.name || !handlerString.string){
            throw new Error(&#x22;handlerString needs a name and a string&#x22;);
        }

        self.addHandlerString(handlerString.name, handlerString.string);
    });


    if(!options.bpmnFilePath){
        options.bpmnFilePath = [];
    }

    if(!util.isArray(options.bpmnFilePath)){
        options.bpmnFilePath = [options.bpmnFilePath];
    }

    options.bpmnFilePath.forEach(function(filePath){
        self.addBpmnFilePath(filePath);
    });


    if(!options.bpmnXML){
        options.bpmnXML = [];
    }

    if(!util.isArray(options.bpmnXML)){
        options.bpmnXML = [options.bpmnXML];
    }

    options.bpmnXML.forEach(function(bpmnXML){
        if(!bpmnXML.name || !bpmnXML.xml){
            throw new Error(&#x22;bpmnXML needs a name and a xml&#x22;);
        }

        self.addBpmnXML(bpmnXML.xml, bpmnXML.name);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	bpmnProcess.removeLogTransport(winston.transports.File);

Managing processes
==================

Process managers are used to create multiple processes using the same definitions and find them back later.

    var manager = new bpmn.<span class="apidocCodeKeywordSpan">ProcessManager</span>();

    manager.addBpmnFilePath(&#x22;path/to/myProcess.bpmn&#x22;);

    manager.createProcess(&#x22;myId&#x22;, function(err, myProcess){

// we start the process
myProcess.triggerEvent(&#x22;MyStart&#x22;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.messageFlows" id="apidoc.module.bpmn.messageFlows">module bpmn.messageFlows</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.messageFlows.BPMNMessageFlow" id="apidoc.element.bpmn.messageFlows.BPMNMessageFlow">
        function <span class="apidocSignatureSpan">bpmn.messageFlows.</span>BPMNMessageFlow
        <span class="apidocSignatureSpan">(bpmnId, name, type, sourceRef, targetRef)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNMessageFlow = function (bpmnId, name, type, sourceRef, targetRef) {
    this.bpmnId = bpmnId;
    this.name = name;
    this.type = type;
    this.sourceRef = sourceRef;
    this.targetRef = targetRef;
    this.targetProcessDefinitionId = null;
    this.sourceProcessDefinitionId = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.messageFlows.createBPMNMessageFlow" id="apidoc.element.bpmn.messageFlows.createBPMNMessageFlow">
        function <span class="apidocSignatureSpan">bpmn.messageFlows.</span>createBPMNMessageFlow
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNMessageFlow = function (node) {
    var getValue = parserUtils.getAttributesValue;
    return (new BPMNMessageFlow(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local,
        getValue(node, &#x22;sourceRef&#x22;),
        getValue(node, &#x22;targetRef&#x22;)
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentCollaborationDefinition = collaborationDefinition.createBPMNCollaborationDefinition(node);
    topLevelDefinitions.push(currentCollaborationDefinition);
    currentProcessDefinition = null;
}

if (currentCollaborationDefinition) {
    if (messageFlows.isMessageFlowName(localName)) {
        currentCollaborationElement = messageFlows.<span class="apidocCodeKeywordSpan">createBPMNMessageFlow</span>(node);
        currentCollaborationDefinition.addMessageFlow(currentCollaborationElement);
    } else if (participant.isParticipantName(localName)) {
        currentCollaborationElement = participant.createBPMNParticipant(node);
        currentCollaborationDefinition.addParticipant(currentCollaborationElement);
    }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.messageFlows.isMessageFlowName" id="apidoc.element.bpmn.messageFlows.isMessageFlowName">
        function <span class="apidocSignatureSpan">bpmn.messageFlows.</span>isMessageFlowName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isMessageFlowName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;messageflow&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (collaborationDefinition.isCollaborationDefinitionName(localName)) {
    currentCollaborationDefinition = collaborationDefinition.createBPMNCollaborationDefinition(node);
    topLevelDefinitions.push(currentCollaborationDefinition);
    currentProcessDefinition = null;
}

if (currentCollaborationDefinition) {
    if (messageFlows.<span class="apidocCodeKeywordSpan">isMessageFlowName</span>(localName)) {
        currentCollaborationElement = messageFlows.createBPMNMessageFlow(node);
        currentCollaborationDefinition.addMessageFlow(currentCollaborationElement);
    } else if (participant.isParticipantName(localName)) {
        currentCollaborationElement = participant.createBPMNParticipant(node);
        currentCollaborationDefinition.addParticipant(currentCollaborationElement);
    }
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.mongodb" id="apidoc.module.bpmn.mongodb">module bpmn.mongodb</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.mongodb.Persistency" id="apidoc.element.bpmn.mongodb.Persistency">
        function <span class="apidocSignatureSpan">bpmn.mongodb.</span>Persistency
        <span class="apidocSignatureSpan">(uri, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Persistency = function (uri, options) {
    this.options = options || defaultOptions;
    this.options.server = this.options.server || defaultOptions.server;

    if (this.options.logger) {
        this._trace = this.options.logger.trace || function() {};
    } else {
        this._trace = function() {};
    }

    if (uri) {
        this.uri = uri;
    } else {
        throw new Error(&#x22;MongoDB: Persistency: requires uri to db&#x22;);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.parser" id="apidoc.module.bpmn.parser">module bpmn.parser</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.parser.parse" id="apidoc.element.bpmn.parser.parse">
        function <span class="apidocSignatureSpan">bpmn.parser.</span>parse
        <span class="apidocSignatureSpan">(bpmnXML, errorQueue, mainProcessName, fileName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (bpmnXML, errorQueue, mainProcessName, fileName) {

    var parser = sax.parser(true, {&#x22;xmlns&#x22;: true});
    var topLevelDefinitions = [];
    var processStack = [];
    /** @type {BPMNProcessDefinition} */
    var subProcessDefinition = null;
    /** @type {BPMNProcessDefinition} */
    var currentProcessDefinition = null;
    /** @type {BPMNFlowObject|BPMNSequenceFlow} */
    var currentProcessElement = null;
    /** @type {BPMNCollaborationDefinition} */
    var currentCollaborationDefinition = null;
    /** @type {BPMNMessageFlow|BPMNParticipant} */
    var currentCollaborationElement = null;
    var prefix2NamespaceMap = {};
    var importNamespace2LocationMap = {};
    var debuggerInterface = null;

    if (errorQueue &#x26;&#x26; fileName) {
        errorQueue.fileName = fileName;
    }

    parser.onerror = function (e) {
        errorQueue.addError(&#x22;NOPARSE&#x22;, {}, e.message);
        parser.resume();
    };

    parser.onopentag = function (node) {
        var localName = node.local;
        var inBPMN2Namespace = node.uri === BPMN2NAMESPACE;

        addNamespaces(prefix2NamespaceMap, node);

        if (!debuggerInterface &#x26;&#x26; debug.isDebuggerElement(node) &#x26;&#x26; fileName) {
            debuggerInterface = debug.createDebuggerInterface(node, fileName);
        }

        if (inBPMN2Namespace) {

            if (collaborationDefinition.isCollaborationDefinitionName(localName)) {
                currentCollaborationDefinition = collaborationDefinition.createBPMNCollaborationDefinition(node);
                topLevelDefinitions.push(currentCollaborationDefinition);
                currentProcessDefinition = null;
            }

            if (currentCollaborationDefinition) {
                if (messageFlows.isMessageFlowName(localName)) {
                    currentCollaborationElement = messageFlows.createBPMNMessageFlow(node);
                    currentCollaborationDefinition.addMessageFlow(currentCollaborationElement);
                } else if (participant.isParticipantName(localName)) {
                    currentCollaborationElement = participant.createBPMNParticipant(node);
                    currentCollaborationDefinition.addParticipant(currentCollaborationElement);
                }
            }

            if (processDefinition.isProcessName(localName)) {
                if (processDefinition.isExecutable(node)) {
                    currentProcessDefinition = processDefinition.createBPMNProcessDefinition(node, debuggerInterface);
                    if (!currentProcessDefinition.name &#x26;&#x26; mainProcessName) {
                        currentProcessDefinition.name = mainProcessName;
                    }
                    topLevelDefinitions.push(currentProcessDefinition);
                    currentCollaborationDefinition = null;
                } else {
                    currentProcessDefinition = null;
                }
            }

            if (localName === &#x22;import&#x22;) {
                addImport(importNamespace2LocationMap, node);
            }

            if (currentProcessDefinition) {
                if (tasks.isTaskName(localName)) {
                    currentProcessElement = tasks.createBPMNTask(node);
                    currentProcessDefinition.addFlowObject(currentProcessElement);
                } else if (sequenceFlows.isSequenceFlowName(localName)) {
                    currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
                    currentProcessDefinition.addSequenceFlow(currentProcessElement);
                } else if (startEvents.isStartEventName(localName)) {
                    currentProcessElement = startEvents.createBPMNStartEvent(node);
                    currentProcessDefinition.addFlowObject(currentProcessElement);
                } else if (boundaryEvents.isBoundaryEventName(localName)) {
                    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
                    currentProcessDefinition.addFlowObject(currentProcessElement); ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
/**
 * @param {String} url
 * @param {String} fileName
 * @constructor
 */
var DebuggerInterface = exports.DebuggerInterface = function(url, fileName) {
this.fileName = fileName;
this.url = urls.<span class="apidocCodeKeywordSpan">parse</span>(url);
};

/**
 * @returns {boolean}
 */
DebuggerInterface.prototype.isInDebugger = function() {
return (global.v8debug !== undefined);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.parserUtils" id="apidoc.module.bpmn.parserUtils">module bpmn.parserUtils</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.parserUtils.getAttributesValue" id="apidoc.element.bpmn.parserUtils.getAttributesValue">
        function <span class="apidocSignatureSpan">bpmn.parserUtils.</span>getAttributesValue
        <span class="apidocSignatureSpan">(node, attributeName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAttributesValue = function (node, attributeName) {
    var value = null, attribute = null;
    var attributes = node.attributes;

    if (attributes) {
        attribute = attributes[attributeName];
        value = attribute ? attribute.value : null;
    }
    return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * @param node
 * @param {String} fileName
 * @constructor
 */
exports.createDebuggerInterface = function(node, fileName) {
    return (new DebuggerInterface(parserUtils.<span class="apidocCodeKeywordSpan">getAttributesValue</span>(node, &#x22;href&#x22
;), fileName));
};

/**
 * @param node
 * @return {Boolean}
 */
exports.isDebuggerElement = function(node) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.parserUtils.splitPrefixedName" id="apidoc.element.bpmn.parserUtils.splitPrefixedName">
        function <span class="apidocSignatureSpan">bpmn.parserUtils.</span>splitPrefixedName
        <span class="apidocSignatureSpan">(prefixedName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">splitPrefixedName = function (prefixedName) {
    var result = {prefix: &#x22;&#x22;, localName: &#x22;&#x22;};
    var colon = prefixedName.indexOf(&#x22;:&#x22;);

    if (colon) {
        result.prefix = prefixedName.substring(0, colon);
        result.localName = prefixedName.substring(colon + 1);
    } else {
        result.localName = prefixedName;
    }

    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param {String} baseFileName Name of the current process definition file
 * @param {Object} prefix2NamespaceMap
 * @param {Object} importNamespace2LocationMap
 */
exports.createBPMNCallActivity = function(node, baseFileName, prefix2NamespaceMap, importNamespace2LocationMap) {
var getValue = parserUtils.getAttributesValue;
var calledElement = getValue(node, &#x22;calledElement&#x22;);
var splitName = parserUtils.<span class="apidocCodeKeywordSpan">splitPrefixedName</span>(calledElement);
var calledElementName = splitName.localName;
var calledElementNamespace = prefix2NamespaceMap[splitName.prefix];
var relativeLocation = importNamespace2LocationMap[calledElementNamespace];
var location = relativeLocation ? path.join(path.dirname(baseFileName), relativeLocation) : &#x22;&#x22;;

return (new BPMNCallActivity(
    getValue(node, &#x22;id&#x22;),
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.participant" id="apidoc.module.bpmn.participant">module bpmn.participant</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.participant.BPMNParticipant" id="apidoc.element.bpmn.participant.BPMNParticipant">
        function <span class="apidocSignatureSpan">bpmn.participant.</span>BPMNParticipant
        <span class="apidocSignatureSpan">(bpmnId, name, type, processRef)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNParticipant = function (bpmnId, name, type, processRef) {
    this.bpmnId = bpmnId;
    this.name = name;
    this.type = type;
    this.processRef = processRef;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.participant.createBPMNParticipant" id="apidoc.element.bpmn.participant.createBPMNParticipant">
        function <span class="apidocSignatureSpan">bpmn.participant.</span>createBPMNParticipant
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNParticipant = function (node) {
    var getValue = parserUtils.getAttributesValue;
    return (new BPMNParticipant(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local,
        getValue(node, &#x22;processRef&#x22;)
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

if (currentCollaborationDefinition) {
    if (messageFlows.isMessageFlowName(localName)) {
        currentCollaborationElement = messageFlows.createBPMNMessageFlow(node);
        currentCollaborationDefinition.addMessageFlow(currentCollaborationElement);
    } else if (participant.isParticipantName(localName)) {
        currentCollaborationElement = participant.<span class="apidocCodeKeywordSpan">createBPMNParticipant</span>(node);
        currentCollaborationDefinition.addParticipant(currentCollaborationElement);
    }
}

if (processDefinition.isProcessName(localName)) {
    if (processDefinition.isExecutable(node)) {
        currentProcessDefinition = processDefinition.createBPMNProcessDefinition(node, debuggerInterface);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.participant.isParticipantName" id="apidoc.element.bpmn.participant.isParticipantName">
        function <span class="apidocSignatureSpan">bpmn.participant.</span>isParticipantName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isParticipantName = function (localName) {
    return (localName === &#x27;participant&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    currentProcessDefinition = null;
}

if (currentCollaborationDefinition) {
    if (messageFlows.isMessageFlowName(localName)) {
        currentCollaborationElement = messageFlows.createBPMNMessageFlow(node);
        currentCollaborationDefinition.addMessageFlow(currentCollaborationElement);
    } else if (participant.<span class="apidocCodeKeywordSpan">isParticipantName</span>(localName)) {
        currentCollaborationElement = participant.createBPMNParticipant(node);
        currentCollaborationDefinition.addParticipant(currentCollaborationElement);
    }
}

if (processDefinition.isProcessName(localName)) {
    if (processDefinition.isExecutable(node)) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.persistency" id="apidoc.module.bpmn.persistency">module bpmn.persistency</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.persistency.Persistency" id="apidoc.element.bpmn.persistency.Persistency">
        function <span class="apidocSignatureSpan">bpmn.persistency.</span>Persistency
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Persistency = function (options) {
    var isMongoDbUri;
    var uri = options ? options.uri : null;

    if (uri) {
       isMongoDbUri = uri.indexOf(&#x27;mongodb://&#x27;) === 0;
       if (isMongoDbUri) {
           this.implementation = new MongoDBPersistency(uri, options);
       } else {
           this.implementation = new FilePersistency(uri);
       }
    } else {
        throw new Error(&#x22;Persistency options must contain an uri property.&#x22;);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.process" id="apidoc.module.bpmn.process">module bpmn.process</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.process.createBPMNProcess" id="apidoc.element.bpmn.process.createBPMNProcess">
        function <span class="apidocSignatureSpan">bpmn.process.</span>createBPMNProcess
        <span class="apidocSignatureSpan">(id, processDefinition, eventHandler, persistency, parentProcess, parentToken, parentHistoryEntry, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNProcess = function (id, processDefinition, eventHandler, persistency, parentProcess, parentToken, parentHistoryEntry, callback) {
    var bpmnProcess;

    if(typeof persistency === &#x27;function&#x27; ){
        callback = persistency;
        persistency = null;
        parentProcess = null;
        parentToken = null;
        parentHistoryEntry = null;
    } else if(typeof parentProcess === &#x27;function&#x27; ){
        callback = parentProcess;
        parentProcess = null;
        parentToken = null;
        parentHistoryEntry = null;
    } else if(typeof parentToken === &#x27;function&#x27; ){
        callback = parentToken;
        parentToken = null;
        parentHistoryEntry = null;
    } else if(typeof parentHistoryEntry === &#x27;function&#x27; ){
        callback = parentHistoryEntry;
        parentHistoryEntry = null;
    }

    if(!callback){
        return;
    }

    bpmnProcess = new BPMNProcess(id, processDefinition, eventHandler, persistency, parentProcess, parentToken, parentHistoryEntry
);

    if (bpmnProcess.isMainProcess()) {
        // we save all process information - including called processes - in one document
        bpmnProcess.loadPersistedData(function(err){
            if(callback){
                callback(err, bpmnProcess);
            }
        });
    } else {
        if(callback){
            process.nextTick(function(){        // to stay consistent
                callback(null, bpmnProcess);
            });
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if(!callback) {
        throw error;
    } else {
        callback(error);
    }
}

bpmnProcesses.<span class="apidocCodeKeywordSpan">createBPMNProcess</span>(null, processDefinition, handler, function(err, bpmnProcess
){
    if(!callback){
        return;
    }

    callback(err, bpmnProcess.processClient);
});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.processDefinition" id="apidoc.module.bpmn.processDefinition">module bpmn.processDefinition</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.processDefinition.BPMNProcessDefinition" id="apidoc.element.bpmn.processDefinition.BPMNProcessDefinition">
        function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>BPMNProcessDefinition
        <span class="apidocSignatureSpan">(bpmnId, name, debuggerInterface)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNProcessDefinition = function (bpmnId, name, debuggerInterface) {
    this.bpmnId = bpmnId;
    this.name = name;
    this.flowObjects = [];
    this.sequenceFlows = [];
    this.messageFlows = [];

    // Process Elements = Flow objects + connection objects + artifacts
    // Semantics of these names is described in http://de.wikipedia.org/wiki/Business_Process_Model_and_Notation#Notation
    this.processElementIndex = null;
    this.sequenceFlowBySourceIndex = null;
    this.sequenceFlowByTargetIndex = null;
    this.messageFlowBySourceIndex = null;
    this.messageFlowByTargetIndex = null;
    this.boundaryEventsByAttachmentIndex = null;
    this.nameMap = null;
    this.isProcessDefinition = true;
    /** {Array.&#x3c;BPMNParticipant&#x3e;} */
    this.collaboratingParticipants = [];

    if (debuggerInterface) {
        this.debuggerInterface = debuggerInterface;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.processDefinition.createBPMNProcessDefinition" id="apidoc.element.bpmn.processDefinition.createBPMNProcessDefinition">
        function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>createBPMNProcessDefinition
        <span class="apidocSignatureSpan">(node, debuggerInterface)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNProcessDefinition = function (node, debuggerInterface) {
    var getValue = parserUtils.getAttributesValue;

    return (new BPMNProcessDefinition(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        debuggerInterface
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        currentCollaborationElement = participant.createBPMNParticipant(node);
        currentCollaborationDefinition.addParticipant(currentCollaborationElement);
    }
}

if (processDefinition.isProcessName(localName)) {
    if (processDefinition.isExecutable(node)) {
        currentProcessDefinition = processDefinition.<span class="apidocCodeKeywordSpan">createBPMNProcessDefinition</span>(node
, debuggerInterface);
        if (!currentProcessDefinition.name &#x26;&#x26; mainProcessName) {
            currentProcessDefinition.name = mainProcessName;
        }
        topLevelDefinitions.push(currentProcessDefinition);
        currentCollaborationDefinition = null;
    } else {
        currentProcessDefinition = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.processDefinition.isExecutable" id="apidoc.element.bpmn.processDefinition.isExecutable">
        function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>isExecutable
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isExecutable = function (node) {
    var isExecutable = parserUtils.getAttributesValue(node, &#x22;isExecutable&#x22;);
    return (!isExecutable || isExecutable === &#x27;true&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else if (participant.isParticipantName(localName)) {
        currentCollaborationElement = participant.createBPMNParticipant(node);
        currentCollaborationDefinition.addParticipant(currentCollaborationElement);
    }
}

if (processDefinition.isProcessName(localName)) {
    if (processDefinition.<span class="apidocCodeKeywordSpan">isExecutable</span>(node)) {
        currentProcessDefinition = processDefinition.createBPMNProcessDefinition(node, debuggerInterface);
        if (!currentProcessDefinition.name &#x26;&#x26; mainProcessName) {
            currentProcessDefinition.name = mainProcessName;
        }
        topLevelDefinitions.push(currentProcessDefinition);
        currentCollaborationDefinition = null;
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.processDefinition.isProcessName" id="apidoc.element.bpmn.processDefinition.isProcessName">
        function <span class="apidocSignatureSpan">bpmn.processDefinition.</span>isProcessName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isProcessName = function (localName) {
    return (localName === &#x27;process&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        currentCollaborationDefinition.addMessageFlow(currentCollaborationElement);
    } else if (participant.isParticipantName(localName)) {
        currentCollaborationElement = participant.createBPMNParticipant(node);
        currentCollaborationDefinition.addParticipant(currentCollaborationElement);
    }
}

if (processDefinition.<span class="apidocCodeKeywordSpan">isProcessName</span>(localName)) {
    if (processDefinition.isExecutable(node)) {
        currentProcessDefinition = processDefinition.createBPMNProcessDefinition(node, debuggerInterface);
        if (!currentProcessDefinition.name &#x26;&#x26; mainProcessName) {
            currentProcessDefinition.name = mainProcessName;
        }
        topLevelDefinitions.push(currentProcessDefinition);
        currentCollaborationDefinition = null;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.rest" id="apidoc.module.bpmn.rest">module bpmn.rest</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.rest.clearReceivedMessageIds" id="apidoc.element.bpmn.rest.clearReceivedMessageIds">
        function <span class="apidocSignatureSpan">bpmn.rest.</span>clearReceivedMessageIds
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearReceivedMessageIds = function () {
    receivedMessageIds = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.rest.createServer" id="apidoc.element.bpmn.rest.createServer">
        function <span class="apidocSignatureSpan">bpmn.rest.</span>createServer
        <span class="apidocSignatureSpan">(manager, options, restifyOptions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createServer = function (manager, options, restifyOptions) {
    var logger, serverOptions, server;
    var settings = options || {};

    settings.createProcessId = settings.createProcessId || uuid.v1;

    logger = new log.Logger(null, settings);
    serverOptions = restifyOptions || {};
    serverOptions.name = serverOptions.name || &#x22;BPMNProcessServer&#x22;;

    // Shimming the log doesn&#x27;t work as expected: I cannot switch it off for example.
    // Additionally, the log format is horrible. So for the time being we use our own logging
    // serverOptions.log = serverOptions.log || bunyan2winston.createLogger(logger.winstonLogger);

    server = restify.createServer(serverOptions);

    server.use(restify.queryParser({ mapParams: false }));
    server.use(restify.bodyParser({ mapParams: false }));
    server.on(&#x27;after&#x27;, function( request, response, route, error) {
        var handler = options.onServerAfterEvent || onServerAfterEvent;
        handler(logger, request, response, route, error);
    });

    server.get(getProcessRoute,
        transactionLog.transactionLoggerMiddleware({
                name: function(req){
                    return &#x27;GET &#x27; + req.params.processName + &#x27; process&#x27;;
                }
            }),
        function(req, res, next){
            getProcess(manager, req, res, next);
        });
    server.get(getProcessesRoute,
        transactionLog.transactionLoggerMiddleware({
            name: function(req){
                return &#x27;GET &#x27; + req.params.processName + &#x27; processes&#x27;;
            }
        }),
        function(req, res, next){
            getProcesses(manager, req, res, next);
        });
    server.put(sendMessageRoute,
        transactionLog.transactionLoggerMiddleware({
            name: function(req){
                return &#x27;PUT &#x27; + req.params.messageName + &#x27; message to &#x27; + req.params.processName + &#x27; process&#x27;;
            }
        }),
        function(req, res, next) {
            sendMessage(manager, logger, req, res, next);
        }
    );

    // TODO: we need to change these routes.  the catch all &#x27;/&#x27; makes this load order dependent.
    server.post(createAndStartCollaboratingProcessRoute,
      transactionLog.transactionLoggerMiddleware({
        name: function(req) {
          return &#x27;POST create and start collaborating processes&#x27;;
        }
      }),
      function(req, res, next) {
        createAndStartCollaboratingProcess(manager, settings, logger, req, res, next);
      }
    );

    server.post(createProcessRoute,
        transactionLog.transactionLoggerMiddleware({
            name: function(req){
                return &#x27;POST create &#x27; + req.params.processName + &#x27; process&#x27;;
            }
        }),
        function(req, res, next) {
            createProcess(manager, settings, logger, req, res, next);
}
    );
    server.post(createAndStartProcessRoute,
        transactionLog.transactionLoggerMiddleware({
            name: function(req){
                return &#x27;POST create and start &#x27; + req.params.processName + &#x27; process&#x27;;
            }
        }),
        function(req, res, next) {
            createAndStartProcess(manager, settings, logger, req, res, next);
        }
    );

    return server;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Server
------

The above API can also be called by REST HTTP calls. To do this, you have first to instantiate a server from ta manager. For example
:

	// Returns a restify server.
	var server = manager.<span class="apidocCodeKeywordSpan">createServer</span>();
	server.listen(9009, function() {
    	console.log(&#x27;%s listening at %s&#x27;, server.name, server.url);
	});

The server is a node restify server. So all features of this package can be used.
The full signature of `createProcess`  is
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.sequenceFlows" id="apidoc.module.bpmn.sequenceFlows">module bpmn.sequenceFlows</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.sequenceFlows.BPMNSequenceFlow" id="apidoc.element.bpmn.sequenceFlows.BPMNSequenceFlow">
        function <span class="apidocSignatureSpan">bpmn.sequenceFlows.</span>BPMNSequenceFlow
        <span class="apidocSignatureSpan">(bpmnId, name, type, sourceRef, targetRef)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNSequenceFlow = function (bpmnId, name, type, sourceRef, targetRef) {
    this.bpmnId = bpmnId;
    this.name = name;
    this.type = type;
    this.sourceRef = sourceRef;
    this.targetRef = targetRef;
    this.isSequenceFlow = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.sequenceFlows.createBPMNSequenceFlow" id="apidoc.element.bpmn.sequenceFlows.createBPMNSequenceFlow">
        function <span class="apidocSignatureSpan">bpmn.sequenceFlows.</span>createBPMNSequenceFlow
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNSequenceFlow = function (node) {
    var getValue = parserUtils.getAttributesValue;

    return (new BPMNSequenceFlow(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local,
        getValue(node, &#x22;sourceRef&#x22;),
        getValue(node, &#x22;targetRef&#x22;)
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

if (currentProcessDefinition) {
    if (tasks.isTaskName(localName)) {
        currentProcessElement = tasks.createBPMNTask(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (sequenceFlows.isSequenceFlowName(localName)) {
        currentProcessElement = sequenceFlows.<span class="apidocCodeKeywordSpan">createBPMNSequenceFlow</span>(node);
        currentProcessDefinition.addSequenceFlow(currentProcessElement);
    } else if (startEvents.isStartEventName(localName)) {
        currentProcessElement = startEvents.createBPMNStartEvent(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (boundaryEvents.isBoundaryEventName(localName)) {
        currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.sequenceFlows.isSequenceFlowName" id="apidoc.element.bpmn.sequenceFlows.isSequenceFlowName">
        function <span class="apidocSignatureSpan">bpmn.sequenceFlows.</span>isSequenceFlowName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isSequenceFlowName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;sequenceflow&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    addImport(importNamespace2LocationMap, node);
}

if (currentProcessDefinition) {
    if (tasks.isTaskName(localName)) {
        currentProcessElement = tasks.createBPMNTask(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (sequenceFlows.<span class="apidocCodeKeywordSpan">isSequenceFlowName</span>(localName)) {
        currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
        currentProcessDefinition.addSequenceFlow(currentProcessElement);
    } else if (startEvents.isStartEventName(localName)) {
        currentProcessElement = startEvents.createBPMNStartEvent(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (boundaryEvents.isBoundaryEventName(localName)) {
        currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.startEvents" id="apidoc.module.bpmn.startEvents">module bpmn.startEvents</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.startEvents.BPMNStartEvent" id="apidoc.element.bpmn.startEvents.BPMNStartEvent">
        function <span class="apidocSignatureSpan">bpmn.startEvents.</span>BPMNStartEvent
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNStartEvent = function (bpmnId, name, type) {
    BPMNFlowObject.call(this, bpmnId, name, type);
    this.isStartEvent = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.startEvents.createBPMNStartEvent" id="apidoc.element.bpmn.startEvents.createBPMNStartEvent">
        function <span class="apidocSignatureSpan">bpmn.startEvents.</span>createBPMNStartEvent
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNStartEvent = function (node) {
    var getValue = parserUtils.getAttributesValue;

    return (new BPMNStartEvent(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (tasks.isTaskName(localName)) {
    currentProcessElement = tasks.createBPMNTask(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (sequenceFlows.isSequenceFlowName(localName)) {
    currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
    currentProcessDefinition.addSequenceFlow(currentProcessElement);
} else if (startEvents.isStartEventName(localName)) {
    currentProcessElement = startEvents.<span class="apidocCodeKeywordSpan">createBPMNStartEvent</span>(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isBoundaryEventName(localName)) {
    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isTimerEventName(localName)) {
    currentProcessElement.isTimerEvent = true;
} else if (endEvents.isEndEventName(localName)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.startEvents.isStartEventName" id="apidoc.element.bpmn.startEvents.isStartEventName">
        function <span class="apidocSignatureSpan">bpmn.startEvents.</span>isStartEventName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isStartEventName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;start&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            if (currentProcessDefinition) {
if (tasks.isTaskName(localName)) {
    currentProcessElement = tasks.createBPMNTask(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (sequenceFlows.isSequenceFlowName(localName)) {
    currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
    currentProcessDefinition.addSequenceFlow(currentProcessElement);
} else if (startEvents.<span class="apidocCodeKeywordSpan">isStartEventName</span>(localName)) {
    currentProcessElement = startEvents.createBPMNStartEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isBoundaryEventName(localName)) {
    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);
    currentProcessDefinition.addFlowObject(currentProcessElement);
} else if (boundaryEvents.isTimerEventName(localName)) {
    currentProcessElement.isTimerEvent = true;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.state" id="apidoc.module.bpmn.state">module bpmn.state</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.state.BPMNProcessState" id="apidoc.element.bpmn.state.BPMNProcessState">
        function <span class="apidocSignatureSpan">bpmn.state.</span>BPMNProcessState
        <span class="apidocSignatureSpan">(state)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNProcessState = function (state) {
    /** @type {Array.&#x3c;Token&#x3e;} */
    this.tokens = state &#x26;&#x26; state.tokens ? state.tokens : [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.state.CallActivityToken" id="apidoc.element.bpmn.state.CallActivityToken">
        function <span class="apidocSignatureSpan">bpmn.state.</span>CallActivityToken
        <span class="apidocSignatureSpan">(flowObjectName, owningProcessId, calledProcessId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CallActivityToken = function (flowObjectName, owningProcessId, calledProcessId) {
    Token.call(this, flowObjectName, owningProcessId);
    this.substate = null;
    this.calledProcessId = calledProcessId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.state.Token" id="apidoc.element.bpmn.state.Token">
        function <span class="apidocSignatureSpan">bpmn.state.</span>Token
        <span class="apidocSignatureSpan">(flowObjectName, owningProcessId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Token = function (flowObjectName, owningProcessId) {
    this.position = flowObjectName;
    this.owningProcessId = owningProcessId;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.subProcess" id="apidoc.module.bpmn.subProcess">module bpmn.subProcess</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.subProcess.BPMNSubProcess" id="apidoc.element.bpmn.subProcess.BPMNSubProcess">
        function <span class="apidocSignatureSpan">bpmn.subProcess.</span>BPMNSubProcess
        <span class="apidocSignatureSpan">(bpmnId, name, type, subProcessDefinition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNSubProcess = function (bpmnId, name, type, subProcessDefinition) {
    BPMNActivity.call(this, bpmnId, name, type);
    this.isSubProcess = true;
    this.processDefinition = subProcessDefinition;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.subProcess.createBPMNSubProcess" id="apidoc.element.bpmn.subProcess.createBPMNSubProcess">
        function <span class="apidocSignatureSpan">bpmn.subProcess.</span>createBPMNSubProcess
        <span class="apidocSignatureSpan">(node, subProcessDefinition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNSubProcess = function (node, subProcessDefinition) {
    var getValue = parserUtils.getAttributesValue;

    return (new BPMNSubProcess(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local,
        subProcessDefinition
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            } else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
                currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
                currentProcessDefinition.addFlowObject(currentProcessElement);
            } else if (events.isMessageEventName(localName)) {
                currentProcessElement.isMessageEvent = true;
            } else if (subProcess.isSubProcessName(localName)) {
                subProcessDefinition = processDefinition.createBPMNProcessDefinition(node, errorQueue);
                currentProcessElement = subProcess.<span class="apidocCodeKeywordSpan">createBPMNSubProcess</span>(node, subProcessDefinition
);
                currentProcessDefinition.addFlowObject(currentProcessElement);
                processStack.push(currentProcessDefinition);
                currentProcessDefinition = subProcessDefinition;
            }
        }
    }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.subProcess.isSubProcessName" id="apidoc.element.bpmn.subProcess.isSubProcessName">
        function <span class="apidocSignatureSpan">bpmn.subProcess.</span>isSubProcessName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isSubProcessName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;subprocess&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (intermediateEvents.isIntermediateCatchEventName(localName)) {
        currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (events.isMessageEventName(localName)) {
        currentProcessElement.isMessageEvent = true;
    } else if (subProcess.<span class="apidocCodeKeywordSpan">isSubProcessName</span>(localName)) {
        subProcessDefinition = processDefinition.createBPMNProcessDefinition(node, errorQueue);
        currentProcessElement = subProcess.createBPMNSubProcess(node, subProcessDefinition);
        currentProcessDefinition.addFlowObject(currentProcessElement);
        processStack.push(currentProcessDefinition);
        currentProcessDefinition = subProcessDefinition;
    }
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.tasks" id="apidoc.module.bpmn.tasks">module bpmn.tasks</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.tasks.BPMNTask" id="apidoc.element.bpmn.tasks.BPMNTask">
        function <span class="apidocSignatureSpan">bpmn.tasks.</span>BPMNTask
        <span class="apidocSignatureSpan">(bpmnId, name, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNTask = function (bpmnId, name, type) {
    BPMNActivity.call(this, bpmnId, name, type);
    this.isWaitTask = type === &#x27;task&#x27; || type === &#x27;userTask&#x27; || type === &#x27;receiveTask&#x27; || type === &#x27;manualTask&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.tasks.createBPMNTask" id="apidoc.element.bpmn.tasks.createBPMNTask">
        function <span class="apidocSignatureSpan">bpmn.tasks.</span>createBPMNTask
        <span class="apidocSignatureSpan">(node)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createBPMNTask = function (node) {
    var getValue = parserUtils.getAttributesValue;

    return (new BPMNTask(
        getValue(node, &#x22;id&#x22;),
        getValue(node, &#x22;name&#x22;),
        node.local
    ));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (localName === &#x22;import&#x22;) {
    addImport(importNamespace2LocationMap, node);
}

if (currentProcessDefinition) {
    if (tasks.isTaskName(localName)) {
        currentProcessElement = tasks.<span class="apidocCodeKeywordSpan">createBPMNTask</span>(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (sequenceFlows.isSequenceFlowName(localName)) {
        currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
        currentProcessDefinition.addSequenceFlow(currentProcessElement);
    } else if (startEvents.isStartEventName(localName)) {
        currentProcessElement = startEvents.createBPMNStartEvent(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.tasks.isTaskName" id="apidoc.element.bpmn.tasks.isTaskName">
        function <span class="apidocSignatureSpan">bpmn.tasks.</span>isTaskName
        <span class="apidocSignatureSpan">(localName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isTaskName = function (localName) {
    return (localName.toLowerCase().indexOf(&#x22;task&#x22;) &#x3e; -1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

if (localName === &#x22;import&#x22;) {
    addImport(importNamespace2LocationMap, node);
}

if (currentProcessDefinition) {
    if (tasks.<span class="apidocCodeKeywordSpan">isTaskName</span>(localName)) {
        currentProcessElement = tasks.createBPMNTask(node);
        currentProcessDefinition.addFlowObject(currentProcessElement);
    } else if (sequenceFlows.isSequenceFlowName(localName)) {
        currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);
        currentProcessDefinition.addSequenceFlow(currentProcessElement);
    } else if (startEvents.isStartEventName(localName)) {
        currentProcessElement = startEvents.createBPMNStartEvent(node);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.timeouts" id="apidoc.module.bpmn.timeouts">module bpmn.timeouts</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.timeouts.BPMNPendingTimerEvents" id="apidoc.element.bpmn.timeouts.BPMNPendingTimerEvents">
        function <span class="apidocSignatureSpan">bpmn.timeouts.</span>BPMNPendingTimerEvents
        <span class="apidocSignatureSpan">(bpmnProcess)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">BPMNPendingTimerEvents = function (bpmnProcess) {
    /** @type {Array.&#x3c;Timeout&#x3e;} */
    this.pendingTimeouts = {};
    this.bpmnProcess = bpmnProcess;
    this.setTimeoutIds = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.bpmn.utils" id="apidoc.module.bpmn.utils">module bpmn.utils</a></h1>


    <h2>
        <a href="#apidoc.element.bpmn.utils.HashMap" id="apidoc.element.bpmn.utils.HashMap">
        function <span class="apidocSignatureSpan">bpmn.utils.</span>HashMap
        <span class="apidocSignatureSpan">(caseSensitive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HashMap(caseSensitive) {
    this.values = {};
    this.caseSensitive = caseSensitive !== undefined ? caseSensitive : true;
    this.prefix = &#x27;.&#x27;; // a char not allowed in JS names
    this.offset = this.prefix.length;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.utils.firstToUpper" id="apidoc.element.bpmn.utils.firstToUpper">
        function <span class="apidocSignatureSpan">bpmn.utils.</span>firstToUpper
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">firstToUpper = function (name) {
    return (name.substring(0,1).toUpperCase() + name.substring(1));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.bpmn.utils.toUpperCamelCase" id="apidoc.element.bpmn.utils.toUpperCamelCase">
        function <span class="apidocSignatureSpan">bpmn.utils.</span>toUpperCamelCase
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toUpperCamelCase = function (name) {
    var result = &#x22;&#x22;;
    var parts = name.split(/\s+/g);
    parts.forEach(function(part) {
        result += firstToUpper(part);
    });
    return result;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
function getBPMNDefinitions(bpmnFilePath) {
var errorQueue = errors.createBPMNParseErrorQueue();
var bpmnDefinitions, bpmnXML;

try {
    bpmnXML = fs.readFileSync(bpmnFilePath, &#x22;utf8&#x22;);
    bpmnDefinitions = parser.parse(bpmnXML, errorQueue, utils.<span class="apidocCodeKeywordSpan">toUpperCamelCase</span>(fileUtils
.removeFileExtension(path.basename(bpmnFilePath))), bpmnFilePath);
} catch (e) {
    errorQueue.addError(&#x22;DF1&#x22;, null, &#x22;Could not parse the BPMN file &#x27;&#x22; + bpmnFilePath + &#x22;&#x27;. Error
: &#x27;&#x22; + e + &#x22;&#x27;&#x22;);
}

errorQueue.check();

setCollaborationDefinitions(bpmnDefinitions);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
